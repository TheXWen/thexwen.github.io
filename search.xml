<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Maven导入本地jar包</title>
    <url>/Maven%E5%AF%BC%E5%85%A5%E6%9C%AC%E5%9C%B0jar%E5%8C%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-在本地maven仓库安装本地jar包"><a href="#1-在本地maven仓库安装本地jar包" class="headerlink" title="1.在本地maven仓库安装本地jar包"></a>1.在本地maven仓库安装本地jar包</h2><p>maven install可以把指定的文件安装到本地maven仓库（使用maven指令前需要安装apache maven）。有三种install方式：<br>1.指定jar包、groupid、artifactId和version，maven会自动生成相应的pom.xml文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mvn install:install-file -Dfile&#x3D;&lt;path-to-file&gt; -DgroupId&#x3D;&lt;group-id&gt; -DartifactId&#x3D;&lt;artifact-id&gt; -Dversion&#x3D;&lt;version&gt; -Dpackaging&#x3D;&lt;packaging&gt;</span><br></pre></td></tr></table></figure>
<p>2.如果jar包是用maven打包生成的，可以直接指定jar包和pom.xml文件。</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mvn install:install-file -Dfile&#x3D;&lt;path-to-file&gt; -DpomFile&#x3D;&lt;path-to-pomfile&gt;</span><br></pre></td></tr></table></figure>
<p>3.如果jar包是用maven打包生成的，maven 2.5版本会自动根据jar包生成pom.xml文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mvn install:install-file -Dfile&#x3D;&lt;path-to-file&gt;</span><br></pre></td></tr></table></figure>
<p>下面按照方法（1）给出一个例子，方法（2）和（3）类似：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mvn install:install-file -Dfile&#x3D;\jdbc8-1.8.jar -DgroupId&#x3D;com.dm -DartifactId&#x3D;DmJdbcDriver18 -Dversion&#x3D;1.8 -Dpackaging&#x3D;jar</span><br></pre></td></tr></table></figure>
<p>项目的pom.xml添加DmJdbcDriver18-1.8.jar包</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;com.dm&lt;&#x2F;groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;DmJdbcDriver18&lt;&#x2F;artifactId&gt;</span><br><span class="line">	&lt;version&gt;1.8&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-把本地jar包放在项目的某个目录中"><a href="#2-把本地jar包放在项目的某个目录中" class="headerlink" title="2.把本地jar包放在项目的某个目录中"></a>2.把本地jar包放在项目的某个目录中</h2><p>把本地jar包放在项目的某个目录中，就可以在pom.xml中引用该jar包了。在项目中构建目录，pom.xml添加reposiroty和dependency：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;repositories&gt;</span><br><span class="line">	&lt;repository&gt;</span><br><span class="line">		&lt;id&gt;localrepository&lt;&#x2F;id&gt;</span><br><span class="line">		&lt;url&gt;file:&#x2F;&#x2F;$&#123;basedir&#125;&#x2F;repo&lt;&#x2F;url&gt;</span><br><span class="line">	&lt;&#x2F;repository&gt;</span><br><span class="line">&lt;&#x2F;repositories&gt;</span><br><span class="line"></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;nlp&lt;&#x2F;groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;localjar&lt;&#x2F;artifactId&gt;</span><br><span class="line">	&lt;version&gt;1.0.0&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>
<h2 id="3-使用scope-system依赖"><a href="#3-使用scope-system依赖" class="headerlink" title="3.使用scope system依赖"></a>3.使用scope system依赖</h2><p>和方法2类似，pom.xml添加dependency，但不需要添加。这种方法可能出现奇怪的错误，所以不推荐使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">	&lt;groupId&gt;nlp&lt;&#x2F;groupId&gt;</span><br><span class="line">	&lt;artifactId&gt;localjar&lt;&#x2F;artifactId&gt;</span><br><span class="line">	&lt;version&gt;1.0.0&lt;&#x2F;version&gt;</span><br><span class="line">	&lt;scope&gt;system&lt;&#x2F;scope&gt;</span><br><span class="line">	&lt;systemPath&gt;$&#123;project.basedir&#125;&#x2F;repo&#x2F;nlp&#x2F;localjar&#x2F;1.0.0&#x2F;LocalJar.jar&lt;&#x2F;systemPath&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>分享</category>
      </categories>
  </entry>
  <entry>
    <title>第四次换工作的全过程</title>
    <url>/%E7%AC%AC%E5%9B%9B%E6%AC%A1%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="不对哦, 多试试说不定就对了≖‿≖✧" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">你猜๑乛◡乛๑</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="c1d5bc62c01d492a63ed09b70628aff280784afd64d96ba1cb913d79826b69d4">702e89962d1c1216ec9f570fa677feb1070405c656a3dfa7b0f0519af420d465a2cd451834fde550d9830cf3a3967c70ab0dee0b6575ba7fd3a182aa3881b3864bb3fa2e65e3b2f72c99e536917cb7472e72c5ae93060d3adf05375095b365886745496e816f7d8b9a2d5849364b18f9f52442258cfd72d70532e44ea1e08103dffe2b0e2120b3ae9369639f653e012c89fce9284e9d93375ba0c60bf0f89491aae5790dd766b2bb4f78326b8ffdefdb8b1346cebb86107084dbd5282fea7f975c5fdbb5b8001cf4214c1eeb048319b905e485d72c49ab085392239476c4750f193d1b5d4a1b49b8c538b591ef7cf33394459e42ecd671f4abefc9fa33ac0877f4b818be1e2aea4b409535a971c5efd05ee28590930a7dcd2021b81d4d808f649c7c9e6801ed10ec5dcf2eca3d49004864f7c08cdb499b2fb6088e3e49f222363dbbec087fce4afe47f393c2503c683817b7bbdc7ce3754a477fcb504a47d08df3b31b557ab8cbd57310a83ab23111df0428509708ef06a652342fbe385c80d0e62ddfcbdd11a5d7f86a2ed0a31823a6f38bdc4520729fd95b1d8950c8841b08e766f2002a4715543fdaa07682c1271aaf9763f8d604d1313a6156fcefd5283e07a04ce743f61743b450d9811b30da0cf589412449a03eaab806c7304ac3336826a98427eaa4ffaebcb62dcd469cf9b98dbad97f99f9bb8b85fc8014132403cec38bc209e8037cd6ed6fe487f0c1ba459785b4f03a18720d9cce181870f1c752a88030aabcfbdbd195bcfae3606ade8ad8595c7ff4de276503eed0c841f4159a9913607c2e465c0d2c09d38ddf46a1e0af29ffb1617b40a5b09bac8713d8d42a0617c8116301017421eed294a704b80f794692e33cb5afe29ff12f934c5d5fd6f716d6d4cd9f6da4a3f6e70e8f1941c05c86741ddaf504cd72b55a2f0f66d4b3c5d387e4d5ed1a7f02fcb37f868e5c7017bce0edb27d6b5115148f3e1149769d8b9f7daf1753256474d2748fe6741061f435638bae2cf5c378ddfbeda6b79a31e36c7b08128d1aaad4a00f4af3d0b8c1654f9d02d17a89bc7fc285cce0a5e42b8c169be98a74f4826770ca5cfead38145364024ad302fc53f5de88f795cb1bf16c4442a86ddb6ba9c1092dadb8799aa292b52b8ee17936d7b7f9c25f2adbaea16df9c56ffe24a770853035b7d04be30b8cc3a8d3b980aa1d4ccd867204cabf61cbfe06fa794a7a41a54bd409ff9d977f134718bf66a708d154b3dd5b441d234613d2f26cd26c1bf65995b0726997177622a4f256ae6b27dfb4767a3e936617508ec862f97c20edfb4476d00e1357dbb6d5aa0bd9fbc3ca1cf6b209a9ba85defff2d0884133e3da8ac9cecb3f25bea9dfd508818b274f407f58b644b8ddb51c11bc5f1a7791dafb169f150919bdc450aa80c56c4d1361432452ec6f74b2a90cee0d7ca6c33e4913add1ef72e54753997aee39fc19e14a181096baeb9c945a4d496bd85df4a47c8c1e00a9110fd70316561f7389939fdffeaca78fea138dcf36d2699adbc276c5d3f87d4153541566dc7c6e9617d3ad86edbfbb7ed3b0205df87f7290ee7d2fc8b0edd36bf0b676101815b4cd9541beb5dc4273d842878ad7dbc298f9e4e786f14ef01af5c757fbf4a68cab0c68c1c4e1b8b28986016d443b4f494909a77f45e1bd2f62ce304fcbc08cc76981ea938193dda1f6bfec22d454f387e66c6d7b9a8fda3c4aabeb6d7b8075180ff7f80931ae3ec7cb262829ee2fa0b7906ea73ae211c1d4281cbb3e57b16291f414ba141b9b384ff87ab21295f0de9214ff3f7b5dcf5be40ffb89690dba745e580dec62d95f003f3e5628b7a38bcdd633fd5031f34a14d7379d3b47aa1e407baf3f01ed4abca0ccb619ccb5e2525da2d9579b8e3f9cdfd3d238fba894f84e3b769e796fcb345b8d6eb21a20d13708c1745aa3d3192ff499c752b6553a5ff233941cf70fb226c15d5d17c024166dfc1d33fdf71992678fb01eed583d14784a3f429b7af5550cd858d6c12518fd4645a63b8dff6256b6533643788b8d40d26d23a76ebe7cb8367026c8ce39f8dee26d212ae53ac25264b0855a79ca6ebfcb8e204925dadff7e5db539a3dc0420a6f5b8f64314f77a7c53ec8c72481d7e1b2e02aedb3dd6c8ce4c9d921e26103fc70060135385bb6c47effb93d603bf530c83b781ed4b200a45ab5b97bec1b385971b43f166d07f5b024374b71d558f758366e416132de105857849864e1ff92348b3a9ad8a303ccc1c9b5acea3e9f3f0d74fe37c53457bdb85398599ee2c7ce8c01cb431a8da0abfc4c5f95bb013d47a8a1983c9bd5186ab7ea4bc37a94b3e7f3045d6ef58665d859bcc7b575f8a66e8295a06ed7a61e90cc14e45432a99c49f1ce28ead95f3b7a9210be67ed8651b47608495c81b4e26bb3044458942cfe16241a59aad70b19f19721c2b063b20000ea3eafae93585013f2109b02ae5dd4a8800cfabae122dcbc06f3480a1908b5ec1e18f95568acc3ffa953662e017fe2ed122913a87af8376156a120498c230fb3380dcf967af41f55d77ea2411b0d7fa828fc5f809c6811d2f1a7776a8a518e72643103f7b3008ef0ca92bc90f3ba719df4c247234c2b031a34b34474833a3559948131c9070191c13f25dfaed736ed5eed9b6976120006cbb11d25cb490f71a9db359b6c16baa4512478bbe2aeee57403a4f0530b30639745ea6378a1a9dadcbe36d483e4fe6cfa6db667918d475d6ef72c81bf3290faf5d85f201b9df20f49a9883088b54c23e7b2453748c160bb52d80df5c21dd7f22e99959ce75392cb2b90e55bc4b8dc712b0faabb5388a43af97461517eda2cd2608350571fdcce779851f4527fc88f30678193af99307f151757673a7234d284dd5fbf4b10864b03bf1fcb43a07de787f57c7a3907905264caac0ac32e2cd664ed18554c8f18ba49bc9f0013fdad0ad536f5ad8d483157e9c2419edcd99a6dfc85a035d72403416310fe726c3cab8fd791664d8cafd45c4a66d6e6681732fa0e26c6962ae906f6e5c111c30944465d3dd1e6cf562c8bd09ba1a78528708e81ff1a9dd8066f3ac43362666b759d872f04f4053ae70fd51dc0374c083e5824f88aa2bb96f74c8485e08a780f91a2c63baf4d7d7a54de4679c6cbad84c2efac402a588c8ae6fce470297ec9a145e22e3a175d3319e3c7fc8c7506bf4179c9dea1d16639a2a63158c196610a814df21bd034837847cc9a1fa0427169c8fe84515a9711c6f809c01d14c3aec107ac6ed74b75831d1a3f5a1d2f476efacf0f90dd4f5c1f7408e6580a19eee99c82298b839a93109776f33409f634282e0007b9aef9c3932a87ec0421b489b8b79abae85bfecb2fab2cede8b68e3dffcda180b978f03954b1ba0fb2373403ff2c84ff0c02650e7d9261a0b33c58b667e067ff6887758e18bc41ca6537f4524bfb65b57183d565063b0e2be23159da166e61230bd265eb7966ea7e02b2f39bc6b661687b409d77aba9fdb7c002ad9ee2b757732314a337e89381913650986ccda1a6d98d8f269b9f547ea04ca515dc059239d242829666feaf46a6b0741523c7848aa3d0670a6a7fe9330874932dfc42f0a233bdc8b0f250c28677948a6a77ed3ff7219116775d5ac44f5711ba2d8b9fac327c03b11364cef4d31cfbc013975b39302fbede8268837cd47e36589cf8a4b1f65ca0f9b53d59f766095b84a6015596fd6b83892a20dd2d18d091bcfe11f5cb5c3c40e113c8008faba06b729387c2fd243c7178f12110e1e7aea54dc719a8ae318b5bae2241ef8cef18e3f1b9214d3cc765c5c34e37856dc9d6a08fb4f828e121cb3a7a86a0e0022b2f4e8d115350de17fcb89490fa03ba82581e47c738335a2845b6f9453f7131c1bfb117f388d4e9cbbb896e8c1ee2f21b74d7670aab312ae46c360ae914a05d1b5ec8539d4bad833bc44fb0a9916a152227d1c7f67291b5d784160ee9918525728c8e4fdcaf5140db4e85ba2342e4a16a47f9d44d3010f403a0392abb1cf90a96132147b7ec18f30e444f993b173b675cdf55806e11d8ac8f0cc821965e792882b88cc8f6809544a265743a0fc44c8113571e65893fbca40a6a54390bf788e022ca67cdb7f4f4741340eda3d4a1b0e34ca69fecaeb73cd2d5e5e31ec3dc63492c70de4cb48781bec7f7822b1f778c546f27adada0d3db5a036269b8722372d00fd4890c3dd1d445b6cecedf27e60629a4e04dd117b5b8bcf35eefec1a2fe51e7b593dad33a6771e615ed02e4b96dc7c7f247a16cee7872015ac45171855a6a9c3537135a7bda77f8f86f02f0ba28ba26ae1771e626706f994521be69dcdb51b6cdbe7cf03392f0fd7fb2df1ad21e1ed79d88968a1cab14f566345e5d6d717ebc53bc17dcfd4b0981a9daf43c19f8d5694bda870826227abb231c34fcd2fa746e833a4e3ef7629fe949caa2857ff756068fd22ab06b2f33d18d153667e0b0b832d290f092bd07242d78956447f2c219e20724ace80b33b2a50c09d3ddbfe179e222877b7e2af2d3551c3b25e33c5bc7b5c8440670c030591ce543245e5b95f3a5b91344c75b8525ab125ada11171d38a301e66bb4b119f99fd2b9b35a46b63672a0e0a8a6c9d4b2019f5223c6efc0844c4d71c1aad5a60d832e30840b8b0a476e25347e090a098804684e63cb577d302e807f68079028f614a73544b54fb3923fe018a507e2ebc3fd6b23c58fbf35b0ec7f4a938e1126864e3af9c3b98db009c7f05d6394d6726aed57e97c54f3f5e2aa0024952f617f44164129feb63b5e744a9c0b0c3de0d54f745cd174e3ea918496eadb2e686989ab1758580f3beffae09b62fe61e9bd19eb534493e14809f045a815545995672e7f2a00268357b22fa07e3cbbe97dfdeffb583c802ffd814bccb6db01c26c9edfe7dbcbd5bfc471afdf2dc5f116343d5f288019c35ff6b6b712227920051fad6627fe014fbc394e146ea3d0e24ce674c433b733a965b24d97300c9acefbd689c6b4c652ac314d07442379763d27a09d66efdaa719670adfc803f7c471a5fcdf6eaad22546d0689f4d9b55c4f0abbc842c4beb95dc68276c26df0993ebc0f9fd1c27274cbc5157cf5a2a4b7a1b7b54af28848a879127fc92d54a5a8fd31d57b21fe207d46561f7a2a6261d47c3b3109c266b417f35b66bf1452ded100ff088577e87e50acf625e4db8977f8012123a5cedd33f2518c1a20150eaec15c3d4b3f263f9eba626a47253af10e0471557732f7f4f52b76e0a67ec3b9a9f7099d06081a7daa620bc72314b065bd70f3c48bd4454bb8ecdd8153fa3e0089b62e6524098d43b9583d200105891fc27e7f1d0af31de36a39665d09514403dbcf576b041d8c1e9cc8a39e6a9f1019c3e3f7226f31b4ac101166709f56bbf82c545d124ecda67b6660b9c6f1c4c90a1233d16a6b7a53fe93c89a1e41d1e1c114614b2b2ca25d476ffaf4d2fcaf81532d840debdc51a2e66dab31c66671ed7f44f116c4479fb6572b9dc0766c9fd416c8e942c953e8ef6057dabb7207e76d333e56bc0fdc268e7294d8e344ae1596416b6c75a93dbf5d56c9b08f9840b8f83394fb1ed71e1bdc12f723b262dc70a97ee4b82ecd4e5441b9cd930b89cb110533ea86d330d1aa803ef1273181e6cd124bb5e434c46026380d6d93762a69cfd28d1c7d47b731edba36fa0e22ccdbe498c54420abd53064ebce25521a909ca97a10fecfb406b835ba1f2ef30a2846c408345bc9c697ae4b6e825fc8bd25e605953a1b20618b2d5a43106dc8eb8474813e149393f45e79da2c23e99d26153b580cf085579d1d7ea582b1f45bbcb47e44e337787879bd0c3e794210a8c6c1b60b2b86430660e8318aabaa0e610baa43854437c275dc015c55d24dfcf6461bfba1bd4939cea5b2173ab83c3c06b11e22ee607ef3e2cc29357101e958cfdc524692361114a5ee63a77f50bce6542106b0f86bb2a73ee7043be39478be5b7a43d04e8ee509715a8dae19da51cf7b352979f9b9a97c99656542325d87f9dbaebc13ed84feae1a33107e2f6bc353eb12c4a3260f93f30f8fd6aefd5018c5cb1ef5b38af2c867403f821240aafdff3299c7d6d6b1bca3115b4a60248dcc64d1f8560</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>工作</tag>
      </tags>
  </entry>
  <entry>
    <title>第三次换工作的全过程</title>
    <url>/%E7%AC%AC%E4%B8%89%E6%AC%A1%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="不对哦, 多试试说不定就对了≖‿≖✧" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">你猜๑乛◡乛๑</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="97aa485d97fa5858f98eb5ec487572dd64603e45591ab811d8d71e73037dc408">702e89962d1c1216ec9f570fa677feb1070405c656a3dfa7b0f0519af420d465a2cd451834fde550d9830cf3a3967c70ab0dee0b6575ba7fd3a182aa3881b3864bb3fa2e65e3b2f72c99e536917cb7472e72c5ae93060d3adf05375095b365886745496e816f7d8b9a2d5849364b18f9f52442258cfd72d70532e44ea1e08103dffe2b0e2120b3ae9369639f653e012c89fce9284e9d93375ba0c60bf0f89491aae5790dd766b2bb4f78326b8ffdefdb8b1346cebb86107084dbd5282fea7f975c5fdbb5b8001cf4214c1eeb048319b905e485d72c49ab085392239476c4750f193d1b5d4a1b49b8c538b591ef7cf33394459e42ecd671f4abefc9fa33ac0877f4b818be1e2aea4b409535a971c5efd05ee28590930a7dcd2021b81d4d808f649c7c9e6801ed10ec5dcf2eca3d4900481a9eb8117ad56959389e7d39c77bc4cb0757966d7ac9e2bcf09f0c15296ab6861c2f8dd7c464dc102197f6b4dee79b410bbdc47a2198072d16a889686f2fb99fd6d543875ab5bcf5e980065119653091c1c4d3aaa1ac53a383b91707c78e2202aa9c5ce2fd8ad5cc1a574e8a54e07a3810974f4aebc6c4844c82e8fcb2d3c9c4f622597e7b1657c08805f69b7747227fcaf3ab07a319034bcf96c4b9c161f515e8e91b35bfef444d59a3474d0e1a8542553cf469ac9b67f22fc4667e11a791c0fc5c9bd36fccca75bd7e689e8d7d4898cd8fafa23735a4c1f294af86a75ca84525d5b1bb7037fa4f855f283297b3a4a089d3a4d513d33fd200f9fe781f57462a5bc081c009412c8a1feca2da9cc6582fa0882b093f6df395323b1c14ae34c96a5c062d5ce7d020e123e370774647efa543a15264a722231aaacd2244533922aa5eb7d86d9b652a13f75ecf04f68c9176d00861cb79c04876ad3d24ff34ff00e778d2cc36e742b62002ab3f12bd03c906a6924891e1e392316579702a1712839c99c26c269776d9def11daf9db595308903266185f2e072ad1dae3dbfc80ec980727dce240e8eef50cc054f51d76d5b59bc6c988adb3a48994a1dc345f4d9b53ddd879e555ba8c5b562adc19301f84e3473f31bb2104f17f550cb548c1a94bfc43659269607b978d96123ba442424aa23be699720a66b7532fe5d4612a432c02e8691e912bd07084c5fcefc4c7ba500e1842e2fa53a36a7cf76ae6d62c44b5efb0e807bf0acd7f9d29fd00a4dad60490af0f6f6f9e6a9ee7f6c1dcafbe70d309d9c14040cc1717d1ba59a17f03853f04fd9f3f461785ce32a7bb8a1233c5f44386c5b97d478350a3d2f07ff122386607ff47beedf78d3333859b5bdb2a35ae1eb83bb7f9cc0136deba2b52e2c98c46151dc34b375eab470da8ce108634715d98bf8f55dd494e305a85fd51edf49557daebb180cd4e3e82e097dbe5cc52a0867b74ef791b045124095a001d34b49aaf15bb962d6c241580a00c6f2f308eb07402ea2a0cb94cb6a08cddcbd819e2d73a47d5b71a449712cb05f3eb36ff64cea13d3ebf1a34754aed0620057639853e5661562a58b8a8a558662107ac829979cd181240bb318f477803a4672ab2e0327c10f7a1e9f8e3d366b4939fdc50d4faec5f67fa1575504391a4ef68c96f1fe0b7092fec5d85fa4ab630817b73bbc5c7e202611be8d6c4f24dc4c28e692646806de4051748a44780c67b98725c34c4876b210211638f06397598dc5092baf0436981dc9d29b31df192a55d5591ef7e85893fa66d85bec4f881817169e028b9fd806c3706c00e2f8e1a886a9ae8fe7183ac1eab2c10ca3e022b8a96ac65b4f8730a832063f8097d0ca63a90ae6beeaf88c4e78255cd5ab891b4e7640281f4829ca9b9006d0a9128bccf192524e2452e8346dea7dcb3e756af653c2120b78caac4b2c88e68d7a7681cb8fc312a0c57ba4f5d9f3e31b6f5f0b28fe5a00145a35f705522276b09e492a82ff679dae64b3fe7eff0e501e4125a7376b934d9fd9a47256c1a2053d8163983f87ea381dcc426932540f32d6f70aaea950d5b069bad4404c2dd9baf25e2f3bf603118524709d96d7d3425c9c4f51cbce1fe0ea78406737dece49146d2c29dcbebe55763ef4daa9af2e35642dd9b3de582472a36ef27fa9e53535fbef34d2511ebbed2d670507949c3ebf711c7f19e678c2b4a3aa0a4a3830553bec78e50e88d897ae3bbf6afc0473f5c0f5cd390598b4bae0cfd9a5c5f669e269b8baae93e31168b07323c194fecc6730579e4cf7e3cba13c6afa82cd8a38bc3feaa2c995b400d2e7459098a46166a9fdd5d955852ff8962bb2a487c1ac77811815b58a8ad53232b2ededab8c12303816e78c44485456b829977d4f485073452ddc0dc0ab9e7401fb77fe6b2337fea5e2208f8cdad2fa19d8b1a9506d6147bdee367760f17eb42cc20def711b9a83cb74fd0549dd382da0a45449313a57694d136cbfa821d0d91802794913d0a603a3419d453fb9fd8eb5bb0bd2d37991ad50cae2cdde92ab41dde8d0050e3c3dca91a2a29c3d7713a698be5ff3bee9a51c94126eb64f4baab0d0e0b47c810c8e928c5f60a10c6e6eddfb8c34fb079d785281c05338678c70405041400851f3fc41a038f2c05205d026eb6479ca81efd8835172a4f040fd7a545a4c2debb7ad9a370029c247f4cca9a48edcac3d8ee849d958d0ff89c696f80b86f1f8c12d0a7dd5136b989808f87ed0867e11109a0894a4040302db477bf689e0b31263d56e6d79c09cc66e12955a7573c52b1c4add1a310921b88199104cd2bc3f932b33d32c003b391ca1c97a87dd56e58f2ba2d96a1bff8fa07c99e5134602e6dc5cc771a3d415c3d84f87944f8afc9e353d6f0a491c4b534a949f8ba88d5ffe1af0554eea00b8449cb54bea89b032acd012d7bd9cc69e2319c18a643f31238a2103a2124aa93f75add4c1b168b37aa43e67f2328747ddaf62585fd2299914470562f185ac2dd2b994de25261d62b59e6a708326a65f7d0c9efc91f27cde4754f9d1a3ebef9cbabb03d2d43ded520fcf3d0f99d935583054aa3ba92c30bc27765661b873a33b5f72d9fe3cf042ff97d54c6093b11e0a4c293954c13f7b8bab3bb825d3a35b74b4014dd18a7c1d3ab34d219e0aef7138e6d38ed80c9a2b3cef3cb8a44fa727411c3045ec5f15fba0e76ae728f4c3da8e6bad2acd41effeab0ba9c7950f490550e72a1a6c8f70eefa74635f27d637f7b904cdf86f8ca7d2d26d1010a0904af07400806e2c2360eadba5f72fd6bc454098e0018e08cc23a0bb8265509209e6e2a5658b15c36b8d8ba1d7291f0b510aaf30a92951ac740488825500d2256e67bd78b7453bf98820b119aef98522134ee7aae93573420a40a11e20a291ad5b1548f7cee3e821a8cee36da8c0ca708ad1d442bdead153310e763c40b185d7324c6a0d61cedefcd4b072dab6ee315ffe4933c2a8f7607cd5d308a148db978a7554a97d62a6de2fc896047c356135fdf7b8da588ca9e696a89c5349b2c14544ae82bfe890dbf25621203ca1246e45ddf871354fbe08a5830a137e8394917540b5a99200203b07329a9f83971349a81de7d4a411050986c4f1df5f94278c88b22700d0c810f427340928b060ff444e81dfd302d683de8321a8cd8f7785531387c039e1aa323687c3ba2760d3b1da3df443073cfb06c11dc603f630db3e595b956872118608623da8d6c1a4dc11cf9e10b524454fd22ee555772e6a65d243bf5babbbad0057e6dcc4556b76d566d702e249d848d26cdde108f274d1b528882f113503fd58210f369304ac8dbc072fbb0aeee1bf47662f7892b2eb707e079335edadecf6f48164a9bf5c20e851f845863ce25a161af0ddd158f5245bd75df2ada6f7410d49e1c692b2af0576019c1699e5019f29d8a883d3dfecdf8072bad196fc1f9e87e855ed790493aef8307f0d7fb8bb15eec4cae200951eeb8689239fe5323b419020f985bd69ba52cfc69cbfd3c2e79c0375e04f4610fedbb6230f8676900cc158ebd645a6f371f4293e7f31e63328e23b584faf020e34349eae06102b02bad1dfd62ffe2f49b639e9f666e5924c0f02f419004ccf2d7e9ded15d5b77be77998c35c9cac9b1d846ca562cbcbaff9f348f7dc616b56ab8752957be4a9eaf80694074c927968e85ada20d2a2d8a0b832c4d43a98538bae9b4c5bffd1baafe1c82509b2e2fc6bd4ea2f6d4902a6da472b99144a36886ade361d30c6b888f80ad578cca256cf007876a2d9e8cb0339b28a2b95d424aae2fc5f1ac1fb94191cfcc5d10cc6f27f9913ad812ef9f79f186c3b92f3e2d69927c16a884707a495f8d3c5ac352af369978c2fec4af660455102f30d59d2214519398b6095759e9f3088e27014c941617ed2231dccea59f6eb6c88e58f9adb439d5deed3655ebe3049de6a8828e7f7643434e3af76cda3af4522b90447502d975c0ca01b2720f5a57c34a7258e2d1fcb7495eb9b7aa16718e0beafc3fa387b2ae95f99268f1a3875f634a8094d93d6c52b44e510282ce3686757c507f1cfdc4231a3f902b58dcd301fb88c7d800989c9a4dd55a3d4f53fafa2e9a08c6e32564c1c80670f84cab5a6cc43069ba9833e6804cab4c9aa9d079252d414bde1b7dcc09228047491af2b35e9effebcdaad7ca3d89befab0b541b4bde328c19065037c635519c7988e442388070e9829fef6fc4719b65fda4a746020601face2231a8aaf3f7c68c61ab81d086dff7e5f5635bcbe2e8e1054a39c80e08d94ec4bab32831b6a2c5e42618e53f0238709bea54c016f083c943087615d913a4f7ea20cd79800b5ba47164bbf9047520eb5b5e0816610e93d543fe6b2dfad0b8dd9a004ec7a6b22b9d6e30388a8e12e8c4716bdf8604ed1dccfd04762b09a0b64cf7fff67142f353d2ef777930a515b424575b3d80bcc7779e63fedcc195e11e6b3b1dceab0afa4a7816a640e398546cfd2118792c3600aedc4b662c89c40287218a2cad0b2a71cf3b2a890a64a99d6820740e9bf663d7db669a03e2904db8040a8cb8420d846c3e3e00783c02f91f8d27d7c0bd15a7b795763ebe5791730a9923c5e6e34b6b416660e44f9a85c0cef8be4c349fb647afb32a6436e926454630ceb768c9a024bf6ca320b56c418a49598592e5c320ed79f3fb80fffcb64955a2924a7971f8cb5917557baaeba8f4a69b4a868242383ff080c44877f2932403fb5f448f4e16bc31de487cacf80f57c775af3fc18d732dad1cc51c3f25a02cc26320f8ed8592be464709b434940baae9d20d72781d23efcd638797d1144e7db079f399f419e94587ea9f421ea92bff4bc82b0394cf89876ae947541536944ff505b23c299f96e0e635f8c86bb6e7c1b81d5a8dc781d2686eff628dd324772652594f76da12c005b45554a74f24422f387f48aac7465e9fedc13a90e23fc7dfc71247cd393fa81785d6352788005a4f4ab58655011673634a6bd2394c90d927f2a8e7c01674cbfdd9606ae7470ef031eae5235d0f5abada4518120cc32de58feb2edc04090edbac8bb84ecd07c7957de27dc00907bff10a4ec699c96e67286ce1d88d721b63ef5c31e3b9f8960435283c8b4b38499291d27dc77163aaa5faba6bb5ceb60ec92e042056ca0920fd9923df6a1745882a9e05445a145ec94578ee26ad2669138ee2c3170fdb54c17ab888f5773326fdf4240cfca917327fb919806457767259ef72e8c8e331fb09934ec735662ef27b836296c25ce4db83b011ce81c0b6fef7a6bdc351acc91d789821cd8d47afacdf409be6fef55ed9fa071032cd8934c2a8dbd8dc6998c55005c48ac3769839b78f10d08d45b06ad7b0b04b12bd7afc7884311f833a2d08dfa29b04831dfedc59550448d3932fb35ee61dab4bbc246546e73188e307c04935ebed1c7221dca37186db8a3e20159a91a6d5f34b1d55880c76cd1e701ae5a79a279fa5a3b0e4a9c8542977f04636944083626e4990f8ff26ef907794bab074b84294e5faf7ccb61d2f0fc73c300c21af3113911a09c723edf1b82602d35c420dff81a81579dafb6a5a17da6b68173fefcfeacc4b75a5d2318dfcd66ec6ba9b05cb8a2b36c782e8af06912ccbfa1cf2dae6edd901aeef9b61c1e0d53914a663f28ee587b0816f69375e9b5bd88d17c0f40647b0051207a5ea8c19d5fba78abbb9c416dcd90c2fab58e63587b8b452321a5b1e789c392be37fb7ba6a53cab3ef360322fb2d9f44dd4bc1d856a1b3070613e7ec6a8e98970b5715c16e82f92e4b837933f85fb5a2cc584fd2b1bc17cba6d746328803355c0cdc258703f302720e7b16623a415cb89c04d550d8a99635c87001013942226bace154361c32bed679b6a731f7087ae6002df83d03397db56b4ad9fa53b07eacd354b1d583dcdf5c3f9dff010b24b1bdc5560f584c67da078ea3c3d151fcd4d2d4551ed95f7f92025011427f6a6854ad000f13a62d00e5ae57e5616d926648b613e7401e821720c28819618ec76b104c65f2c4cdc469afa0c6784a7a7f3511f0d9672bec3d05d3e69b6980a51ebf5706447dc73646a39e93ff705f75c7c07a96617adad50ac05b2892786e00ebd31f804a3adc62bc4828a8091f0d40864b0ad56c67bec2f1a9be2dc87a47cec512e21f09180104ea075caeb549f4c2860fba51dd4743efad7ac90e6bb78341426e5856036cff36ee3f1617e096c355b5d64856053637813a47998eb2273fad2907563a5d68b01e5af354951c2fefdd7a08e41764719ba83f7c4caf4eca11a81bc049d492e6a96aace10601b26407b001d268fb194726bfbe75bc2ff36509d7b34ec7baed37314253b1fa9ab7f588721267d3e15b15643898c3371075f5a92aabe4c65fc0d0f9ec9ac6c0e2af1015edfadf0c702db821595df5b42c16a72501f6d6ba0f9db359c1a0db06487a94e98fb88cead7b5bab58ad648a0fe8558d70f57779264b69855d804255011a91e6f3b1618d4ac0a190fd8cb6b4961671b52ffdb6239f971e3eef0738e24979b158795e76f5cf7a441b494aaa257fc90fa11f80977ed6930cdffd8f6d0d8b7251af5319b3006fa611a6c5ea72548a51f767ecf0fda4f3199e470aafa4180da7d898228b5764641964cd8292da58dc4dc70dfb458ca1acc4d7afab6719d9452e5609161a8da67e785de8f1247a37a9cbcf4d22938280e6059f96eb7c37846473e0c0f15e4306890f461acdbf26e95c2969a19a69b0935a0f0cfad59a7b526dbce4ac7f21799407ffec045b5ee0530034d40c75b40619ebdf8208f3b75312411c5335c5c68e4dc5d5f2475c6f4fedb746b31e795c4d0a99954d6a6fd775ff09cb9fa879617306f9bcd7ba9034125bff5006da68eed8f28da7f4ec6ca0f95f158b6599c24fafbc8556777a52b5d1464b9b653ede888294f99c7728d5788a49b6d8ebf1b9bc58947fe9252ffb2f97e47287b6493fb210bb39ac9cbae412b95511f3f82ddcb0516d7608cc4dbfb49455ef4377bd68ec5fbfba0a3e248426356715aa5b89100f70266fd73c2d0cd235d06d44ddc9f021566102420f999bf8a11753585202ae8cfe44885c9db4869e01dfdf37012cf93b9989a90d158dca933364766ef3164cd618eb424bae7ada0f1a553fed172f51a6c849cdb39c07715c085643e972e80ab5f56ef1618143d5b6a1e45bf836f26227ed456e7f093e8b02bda07d535d432b6103ed2c99579359fb178d15bb4c8367523e8f96403a1ae7c0b34756a6fd5add199d0607a3e39ba1b14246ebc33287e03d0acbe68051aef64ad34dde9165afbcb3d6e84c30f1422ee510706c4fda79611fbfb2b4e1ff622951f47a0c2b7e6f1e68b1d52f3344897221539d3527d940f3ae738710390b430ac04281c3890256f0d01ce6ed64e02398ed9fba2374c41167002d0ffdac617bca1f368ada5663ed7671a084d46465b90e491d4dd06116fccace2da4eadee96754f738fd817f42706ef22f22247892f5425b1071297ba774fe8e787ebf7f287950ab8dad88736fbe5ae9961d51254584943e800a9d4ad29b84bde5ec5e53672c86f6c5b92e2b2369ae416013820ac14e426e77c55d1f3b5cc4b1e32dc35ef23c0fe8ff14a0f39454403a7aed7a29da780588decde096cde256c90f7910427c0e9f290abc8a98d02844a8f1afc7110888fe4990cbb67e10e4728b7cbc10b518ef4c740540fcd960ad7472a688bb79c9d61c09d13a874f71eb1e7c9bd77afa029b82580b46219edbfa657e6eb20d1b43d33ff8317e8377b092e28c5336d7f0c1ab466b67b6725bc4bc08cf2f720c717cfad00da5e8691444e27e3e7a2d4b78998f60ba88719f210810b7c0162465c100e4cfe5f13b67961493c8d7f11678e6fedf6965427</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>工作</tag>
      </tags>
  </entry>
  <entry>
    <title>线上问题</title>
    <url>/%E7%BA%BF%E4%B8%8A%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-线上nohup日记过多导致服务器磁盘100"><a href="#1-线上nohup日记过多导致服务器磁盘100" class="headerlink" title="1.线上nohup日记过多导致服务器磁盘100%"></a>1.线上nohup日记过多导致服务器磁盘100%</h2><p>后台运行jar包导致生成大量nohup日记，强行删除nohup文件会导致假删除，实际还是占用磁盘空间<br>解决方案：<br>不打印nohup日记，由logback来打印<br>nohup java -Xms512M -Xmx2048M -Xmn512M -Xss1M -XX:NewRatio=8 -jar /data/smart_campus/canteen/smart_campus_canteen_back-1.0-bate.jar  -Djava.security.egd=file:/dev/./urandom –spring.config.location=/data/smart_campus/canteen/config/application.properties -Djava.awt.headless=true export _JAVA_OPTIONS=’ -XX:-UseCompressedClassPointers ‘  &gt;/dev/null 2&gt;&amp;1 &amp;</p>
]]></content>
  </entry>
  <entry>
    <title>第二次换工作的全过程</title>
    <url>/%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="不对哦, 多试试说不定就对了≖‿≖✧" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">你猜๑乛◡乛๑</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="9200a11ac026a072318eb6d6d13cab1d13bdbe07a1d73cb0f32242eb39c6a5af">702e89962d1c1216ec9f570fa677feb1070405c656a3dfa7b0f0519af420d465a2cd451834fde550d9830cf3a3967c70ab0dee0b6575ba7fd3a182aa3881b3864bb3fa2e65e3b2f72c99e536917cb7472e72c5ae93060d3adf05375095b365886745496e816f7d8b9a2d5849364b18f9f52442258cfd72d70532e44ea1e08103dffe2b0e2120b3ae9369639f653e012c89fce9284e9d93375ba0c60bf0f89491aae5790dd766b2bb4f78326b8ffdefdb8b1346cebb86107084dbd5282fea7f975c5fdbb5b8001cf4214c1eeb048319b905e485d72c49ab085392239476c4750f193d1b5d4a1b49b8c538b591ef7cf33394459e42ecd671f4abefc9fa33ac0877f4b818be1e2aea4b409535a971c5efd05ee28590930a7dcd2021b81d4d808f649c7c9e6801ed10ec5dcf2eca3d490048be81087b6cc3d7ca45591ac438f436a052ce2d64e4c9b47aa7b45dac906dda0b4ffc193df4247f0695988d9dce9ff9ef3bebfc0cea9d75aecd3b8efd99ee90a4c52ff1afe0dba408db82292cd0aa7940007cb5d4e5ab8d9ea7f7f309073ede08539bfb2b4609b32768fcc0646d6ecf7c9e79b2739c3ad39c62a99a740301c054fdd93b81154f1ac55714919ae2603ad9981129e75950ad2d8a5a6e1c89c3eea793c5d7445cff64a9026028a305a4b6ade5a24e63c46954758ce4a9ecfa91205580a5b0e965a3fad08c690ea35a8761d1f87cabe8842bbb002ba7b0b20c6001f404bb6b78b90b410ad10196591619a81a790aa3f2f96fde2b5aae43a1423e5b24746e50f621161ee99fe7cbd748911dd8237c6b0229aa98da72472ffb9ef6d7a525a7daea9b5150b2cfa5772c06a07c44cf0324c0ca1519a9a79f3cdf19e3349b8485204dfade487e8d89944368f266474281601078249d16e8e31e215c1b1615ba5363a387ba53c916b4d6188ec76f7b6d89b916f2fd8a7244a617e123dabec676c4468424d6b59c8155609c1454b938fbe03a00525bbdb95022b5587d0d64e9b87048c107f90c7c11fa9513063849ff439138ba94d0a833e534fdb8f5909c383daf6f8ce35d7b2c86920d610b83d60ab5b49377222a69ddb9d8ff1bd8c7d60c64abf32a5c25a8ae60d3a6a7932d29dfb7db46e2291f754d1afedf01ca64296987f40d76a7f6df6b2f7f5b5116197b417c7fc9f22e3580194d0d513f344621f0e01d135c8528498239b77dbfd08837f1d187233285f61566afe1648e0d36ff63bd9769f54e4f533db2696d8eb63dc53119c3e7eae12787d117ab4fa258fadb9e999e09dbc1975745e3cd4ae49b7d76474526751c72350cec6bd6d28cf5ab55158d2ae6b89826bb935691a9bc731534a5f6e9940f70f9f16ab1044d238bdfb4b303ac8c1c4d2c59490f8edccee7bb68995fdf42d7dc1d0fe06c6aad13b2eaa78cd672178a55e661a267a9b708dd4602a3187b18d7874e8c59c44bbfab3d40d1402bcb96fcfce0808df1cdaf004ac8ab35e721b32423dd40b8de86a8413de058a255ba656721ba3a3350b2954e75fcc2145cb70e7d6d463d6d83bd5027eccbc457f203048cd43634f77c1cfa7b908ef7f7e57ea5d1a08e521f39626d243dc019b0a158a98250054e58bc0a8fa9a1f5de961f79983a33bb27146237f96e2b8d3b7f0e0b70a77ded941995c8322e1bc5be84fcab341f2199318a1a6daf739431d43598e57afe067b4fa9e35adc2f38dcbf16ffb657c13a8aec0f4fa61f7baca82f1678d82acfea7b17d1adf1d10322ef4fd0e77ed09a2c27dfeeb04251129602302b9a6ead4b8083872a3435c95231f2a124c47e4d9bc251ba0624bce36b6c9febd03c2bbeaa428329d0e17bd724530040d76335e23bcd17fac844325567318af94d4348a7c1f24547a819818194a15b61680d5d086ed3b8736f66ee668f235aabfc32beebb088a07082a07db3da35daf1fc65ec9ded663a4adb8d9ffd766b4a2efa1898f6434d27b224fd40bc1a1747b856272d7bf7278b7e981cf7f4cb33b5e6f239a771c18d0d98aa35cfcc912503e350ca387ea8c3e356fd30795b038afb5c9a38a9e57a0261b1bb2fab4ab43530d5abca004bd45ace5844e9cdf98d466cde47c9b153442cb53559a0e8cfbef9e5b9608b534653aac0735d8dc3aa4248dc04f584fcb6a7556939590b81b2c90084f666ff0a50e0752c4d2bdb30239728a59f54fd0da9d7e4efb41368a287699409d9b3e8b54dd8bb9b27da85992bc3587d55addee16568c49c73f7514f8c7eb3f585408695ebbe47d1120fbd5c1c964d03a4abfb60a9ad8fbdbddeb74bbc3ff12f24aaf06ad096b0a85ebaa558a81025e14cea94bdc4def2ac7eccff1c4b1e252a56fe7a7c8cc7cccd23e5428e0b81de734b0cc7a5d9af520ed06088d5bdcf21befcf2468cda0c7bc38faea73cac1c040164413a31d4c5ee9234a0ac6921d462a58a5ede8ebe1176749fd8c430964038414e9b4caa52faff86644fbe91113bd0812f29a7011c2fecde14cfbb247427d9377a9354cb73290829ddaed09320ffb81c98d29d881d841eb6ca0c7d13ab1b6d867f349c4d6143c8182c167ec03572ce5f6cd96297a3d36cc587268320d336c853be949e35742535bd3dab8e6166cd293d8a86a6efa1fa4e3e9da950725530219fc30b861016adcd04eb60907d165b8a35faa8fd3388cf04735c01d8a874b0fff9693eb74589d756167bd880e913619b06023cfac4da9e40ad97acf3abb440554b746ba746d1c9d1753a62f36357542fa6fa5dfdceed75db9f058f39feab48b516d604145e96cc89b74c27592e6d7c64e6fc34316529032fe11b99e78ed0fd220235f88976a06c867cebb65c73206e78374848e73c56ad43e0f4784fe93a45f80b4f72d59f1b05f197fc8435972fa8672bfc678db0a1e2d583fba7cd84602cebd625f0e3a79c7d23b355349af106c4b18f426ecd1446b1d352c6fde5655df8999fa792ab8a546c9c631eb3c2e8cc59cdb3da8e6acc475dde10a23b78fa4950406c759286b4eac5fe62595aabeb3e15da38c5860ac624a8a96420dd859a7e52f08f9e656c39a8be6d91bc294e4b58f01625b90cf4f58c13b6da673d1b704b8b442b12f2c26b6a9aab1a282f4641f0a5d128e6e2fe09b1e82c6d115328cacb989ba6ee384bb75f1d39072a646d961ff87f5362ab82f114831fe8d3e843ef71f7f0bd24ef3915f07b05f61f795a5b45b5ffc3b63e7429e4ecdcf2ea4f96254dc57bfb3a21b653184aadf114d58f79fa906326fae2c302b28475d1e2e292312db1d093a0ff55c395ccbbb1a45c410b754165af8bcef1da17d936fca9973983b3fcb3c4f0287f36dfd0dd352406df4a76905bc4e64d2ffdf63c00c7170aa054ccd11045ae031df385e69a62f5ab2cb630a0fb5349737fdfb65a212878ae9e1043ac735330d221f8d6f4adf99178fbf1310ded7fdc3730e629671258b90abfeabd5288c8003d0dcf0a9d20be07701fc084fdf7ac9ac18e6c9d65052da8a21b98c3dd10d3defdc9fd519f23034fb36acc9e1fed0a67190e85ae11575980e086b28d8cdcb662f5afec98ed37d691a02e247413585cff19dee7c7ac7dd32ac5faeb6e98b6060573d975af09f10fa202d8b23d819d88eed7e02c421f512f37c188a569aed852d88fd4b44c34b2ed323895f82cbd5ba3bd7b0de31b6dcc32b5e9ecfc7a0ac58b4a50d74a304e50f3b0a86edb7f48b98eca1d99f6a2af0ace98e82718c0cdb2f56c74655073c47420fab3b1ebd45123c0f57e07eb6ab97097a4c0f310feba7e70fc6eb68f8525f032d95b9e5a620d8e7732a21ad3720a254449ec95406dc98e392d77b3df8bb1a7348a9e2a164f57d6b439ec9115bb3cc2c89c5b23b3ac865cb2d045add0b4b764264cffb1b439066863407f77be6c8211bd4fb22dedc1d2e5b2ad1348d5b35e907460702fda54af4b75722ff9ba273cae7ca6cc747f2574971135c7e86f54ec74ac1a55faff8aa803a56d3c2355fd1430dffbd968d34d5b5a385b50e73be1727832608b70cb8fa3fccc4c9665b4d0276dcfb175b5291c614a77260702e119735d1364d4059fd2d077ee2acc12ba4d91b9b1221bd3b4f899a66d0296b61b0ef422fdc4409ce5a9b6d9f25e144a7696a59530a682f523ff1d5e025e293889171cd4754d7b9fb4167f1ec492897789c7604914425e1425d2739920bd1e7e2c130740eb6412fb4c3040a6b801b8dcbea61c08cd0e9960ffa34a35ea059ba1654ef77a178d1b687da11ff477df2db4734bff7cbffba18ce1c62f288041bb89ee23e4a9ea57494fb9f399c2fe548f0cf3c82a5d9ec05154db80cc508ee01ac344a6c890bac2444106d3c986ef0599aba2e75579a7b81345c2aced8de84c32eb8141fec9e5866eaa3e4ed32676d44dfa0a9fae6f424c4c37b95a3f8afde24e1095008a7e8f97d0e875722984e4f3ca812126d22fbab9ba4054c71054ef596ba97892c0cff42a81cf24c9ac835f3bf338e07c98d4dc08941cdef86088dc200d9edff1d7b64f3c1e2f17264053ad3eaafae34c1a6ebfc9fccbb445b8ff1a3abd321572e4dc5a8419ce7d2610cfb45f2e3e56f0aebf031ae536806e2def3ac48b168c84aa1bf69eab9abfd042455c97bffd608de9b411d6eb4617b17cf1d0d027bf8ba3dc98cd5202da5765ac49c91a34ba4ba9061a5fcadd911ef8775559f92c45fd4632fc422611ca94cae95d0410ca4dbbc460266a1c243e7d95713aaff7ad4713bc9c726ae11218d826a8959334103ccc01f1bce1802a7acdff326c2c9feca7c92c704bee41893e64afcb42c6c55c22b9dbfa33f6fcae53da53111087febf6e589035bc94130691d16b0d5a60ac2d28ecf84eae042565d8e81a0c7da3aaae625c501acd3cf2a8af417ec12cea4db707644575a08acb84bc8335e801ae7160a14e6bc269b256afb7f35c7a7ca7f691ef0fc0884a5ba245d944bc1ce75e5b83864bd14a6f5547f32b3c7fbf034c29760816c2b1b14b80fe6ae4ddadb23afbc113444c4ae20f85ed486fcb2dacfb1a4edcc6a6a4969de4db2f01fa924de6075c3c78bb8129432f21fab5ad332959de4645605fff0e9c996483efb40f1d9d2c0caa484edf9de398cb830bfd697d955b5392b936e87e38def11030a724df5314b842b872898feb19b99b76a365cfabc28538a076e257cdc8a0b534742b4b1a092891db76dd39c525ae66797647e2c2bbb50282b21115fc2f91e51836f751ac6829761a444f08cc8c58aaaec8a1d2eec32b351641ac5e6b7782db8e2565997675a9d156715a1e5d6eb8528746a92d747554d7170ab8e20858d9cdeb8f066c318ee93dda42132132766a891403537ecc91f94a8c536f526318a1943e7b7ed5edc633aaf19005286f81b08237826a11ef03aa6996f9a6c90fd71924a8a7bd321bd69c31eca5f416594f277c045faed0faf58e896acc8d2297de19bbd96985f8c212e2ff0cc6f40353bd78703ebc36ab9131607c2e3a98464dced8fb731d91a2ddd0b5f0b293a6b39f948a457f5e9ce88651704bc71134f7c8f34b99c1b3af0f62d3087c5e291a94ea2b85df6a8e10a03d99b41da54b0a97fe39abce3f8930e95f6f389fc4af41b0e6d9b514e6b4f0b38a1c8b6fff414cd6f98812fb0d087d96c8dbf3037e1705cc95492759e273c6bf2e8d6cf17bc8e60c28f36c75801223b04ba3fe93ab0ce1625aa2092474816e65e99f65</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>工作</tag>
      </tags>
  </entry>
  <entry>
    <title>@Component和@Configuration作为配置类的差别</title>
    <url>/Component%E5%92%8C-Configuration%E4%BD%9C%E4%B8%BA%E9%85%8D%E7%BD%AE%E7%B1%BB%E7%9A%84%E5%B7%AE%E5%88%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>一句话概括就是<code>@Configuration</code>中所有带<code>@Bean</code>注解的方法都会被动态代理，因此调用该方法返回的都是同一个实例。</p>
<h4 id="下面看看实现的细节。"><a href="#下面看看实现的细节。" class="headerlink" title="下面看看实现的细节。"></a>下面看看实现的细节。</h4><a id="more"></a>
<h2 id="Configuration注解："><a href="#Configuration注解：" class="headerlink" title="@Configuration注解："></a><code>@Configuration</code>注解：</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.TYPE)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Configuration &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> ""</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从定义来看,<code>@Configuration</code>注解本质上还是<code>@Component</code>，因此<code>&lt;context:component-scan/&gt;</code>或者 <code>@ComponentScan</code>都能处理<code>@Configuration</code>注解的类。</p>
<p><code>@Configuration</code>标记的类必须符合下面的要求：</p>
<ul>
<li>配置类必须以类的形式提供（不能是工厂方法返回的实例），允许通过生成子类在运行时增强（cglib 动态代理）。</li>
<li>配置类不能是<code>final</code>类（没法动态代理）。</li>
<li>配置注解通常为了通过<code>@Bean</code>注解生成 Spring 容器管理的类，</li>
<li>配置类必须是非本地的（即不能在方法中声明，不能是 private）。</li>
<li>任何嵌套配置类都必须声明为<code>static</code>。</li>
<li><code>@Bean</code>方法可能不会反过来创建进一步的配置类（也就是返回的 bean 如果带有<code>@Configuration</code>，也不会被特殊处理，只会作为普通的 bean ）。<h2 id="加载过程"><a href="#加载过程" class="headerlink" title="加载过程"></a>加载过程</h2>Spring 容器在启动时，会加载默认的一些<code>PostPRocessor</code>，其中就有<code>ConfigurationClassPostProcessor</code>，这个后置处理程序专门处理带有<code>@Configuration</code>注解的类，这个程序会在<code>bean</code>定义加载完成后，在<code>bean</code>初始化前进行处理。主要处理的过程就是使用<code>cglib</code>动态代理增强类，而且是对其中带有<code>@Bean</code>注解的方法进行处理。</li>
</ul>
<p>在<code>ConfigurationClassPostProcessor</code>中的<code>postProcessBeanFactory</code>方法中调用了下面的方法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Post-processes a BeanFactory in search of Configuration class BeanDefinitions;</span></span><br><span class="line"><span class="comment"> * any candidates are then enhanced by a &#123;<span class="doctag">@link</span> ConfigurationClassEnhancer&#125;.</span></span><br><span class="line"><span class="comment"> * Candidate status is determined by BeanDefinition attribute metadata.</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> ConfigurationClassEnhancer</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enhanceConfigurationClasses</span><span class="params">(ConfigurableListableBeanFactory beanFactory)</span> </span>&#123;</span><br><span class="line">    Map&lt;String, AbstractBeanDefinition&gt; configBeanDefs = <span class="keyword">new</span> LinkedHashMap&lt;String, AbstractBeanDefinition&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String beanName : beanFactory.getBeanDefinitionNames()) &#123;</span><br><span class="line">        BeanDefinition beanDef = beanFactory.getBeanDefinition(beanName);</span><br><span class="line">        <span class="keyword">if</span> (ConfigurationClassUtils.isFullConfigurationClass(beanDef)) &#123;</span><br><span class="line">            <span class="comment">//省略部分代码</span></span><br><span class="line">            configBeanDefs.put(beanName, (AbstractBeanDefinition) beanDef);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (configBeanDefs.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">// nothing to enhance -&gt; return immediately</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ConfigurationClassEnhancer enhancer = <span class="keyword">new</span> ConfigurationClassEnhancer();</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, AbstractBeanDefinition&gt; entry : configBeanDefs.entrySet()) &#123;</span><br><span class="line">        AbstractBeanDefinition beanDef = entry.getValue();</span><br><span class="line">        <span class="comment">// If a @Configuration class gets proxied, always proxy the target class</span></span><br><span class="line">        beanDef.setAttribute(AutoProxyUtils.PRESERVE_TARGET_CLASS_ATTRIBUTE, Boolean.TRUE);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Set enhanced subclass of the user-specified bean class</span></span><br><span class="line">            Class&lt;?&gt; configClass = beanDef.resolveBeanClass(<span class="keyword">this</span>.beanClassLoader);</span><br><span class="line">            Class&lt;?&gt; enhancedClass = enhancer.enhance(configClass, <span class="keyword">this</span>.beanClassLoader);</span><br><span class="line">            <span class="keyword">if</span> (configClass != enhancedClass) &#123;</span><br><span class="line">                <span class="comment">//省略部分代码</span></span><br><span class="line">                beanDef.setBeanClass(enhancedClass);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (Throwable ex) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(</span><br><span class="line">              <span class="string">"Cannot load configuration class: "</span> + beanDef.getBeanClassName(), ex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在方法的第一次循环中，查找到所有带有<code>@Configuration</code>注解的 bean 定义，然后在第二个 for 循环中，通过下面的方法对类进行增强:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Class&lt;?&gt; enhancedClass = enhancer.enhance(configClass, <span class="keyword">this</span>.beanClassLoader);</span><br></pre></td></tr></table></figure>

<p>然后使用增强后的类替换了原有的<code>beanClass</code>：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">beanDef.setBeanClass(enhancedClass);</span><br></pre></td></tr></table></figure>

<p>所以到此时，所有带有<code>@Configuration</code>注解的 bean 都已经变成了增强的类。<br>下面关注上面的<code>enhance</code>增强方法，多跟一步就能看到下面的方法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Creates a new CGLIB &#123;<span class="doctag">@link</span> Enhancer&#125; instance.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> Enhancer <span class="title">newEnhancer</span><span class="params">(Class&lt;?&gt; superclass, ClassLoader classLoader)</span> </span>&#123;</span><br><span class="line">    Enhancer enhancer = <span class="keyword">new</span> Enhancer();</span><br><span class="line">    enhancer.setSuperclass(superclass);</span><br><span class="line">    enhancer.setInterfaces(<span class="keyword">new</span> Class&lt;?&gt;[] &#123;EnhancedConfiguration<span class="class">.<span class="keyword">class</span>&#125;)</span>;</span><br><span class="line">    enhancer.setUseFactory(<span class="keyword">false</span>);</span><br><span class="line">    enhancer.setNamingPolicy(SpringNamingPolicy.INSTANCE);</span><br><span class="line">    enhancer.setStrategy(<span class="keyword">new</span> BeanFactoryAwareGeneratorStrategy(classLoader));</span><br><span class="line">    enhancer.setCallbackFilter(CALLBACK_FILTER);</span><br><span class="line">    enhancer.setCallbackTypes(CALLBACK_FILTER.getCallbackTypes());</span><br><span class="line">    <span class="keyword">return</span> enhancer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过 cglib 代理的类在调用方法时，会通过<code>CallbackFilter</code>调用，这里的<code>CALLBACK_FILTER</code>如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// The callbacks to use. Note that these callbacks must be stateless.</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Callback[] CALLBACKS = <span class="keyword">new</span> Callback[] &#123;</span><br><span class="line">        <span class="keyword">new</span> BeanMethodInterceptor(),</span><br><span class="line">        <span class="keyword">new</span> BeanFactoryAwareMethodInterceptor(),</span><br><span class="line">        NoOp.INSTANCE</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ConditionalCallbackFilter CALLBACK_FILTER = </span><br><span class="line">        <span class="keyword">new</span> ConditionalCallbackFilter(CALLBACKS);</span><br></pre></td></tr></table></figure>

<p>其中<code>BeanMethodInterceptor</code>匹配方法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(Method candidateMethod)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> BeanAnnotationHelper.isBeanAnnotated(candidateMethod);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//BeanAnnotationHelper</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isBeanAnnotated</span><span class="params">(Method method)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> AnnotatedElementUtils.hasAnnotation(method, Bean<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也就是当方法有<code>@Bean</code>注解的时候，就会执行这个回调方法。<br>另一个<code>BeanFactoryAwareMethodInterceptor</code>匹配的方法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(Method candidateMethod)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (candidateMethod.getName().equals(<span class="string">"setBeanFactory"</span>) &amp;&amp;</span><br><span class="line">            candidateMethod.getParameterTypes().length == <span class="number">1</span> &amp;&amp;</span><br><span class="line">            BeanFactory<span class="class">.<span class="keyword">class</span> </span>== candidateMethod.getParameterTypes()[<span class="number">0</span>] &amp;&amp;</span><br><span class="line">            BeanFactoryAware<span class="class">.<span class="keyword">class</span>.<span class="title">isAssignableFrom</span>(<span class="title">candidateMethod</span>.<span class="title">getDeclaringClass</span>()))</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当前类还需要实现<code>BeanFactoryAware</code>接口，上面的<code>isMatch</code>就是匹配的这个接口的方法。</p>
<h3 id="Bean注解方法执行策略"><a href="#Bean注解方法执行策略" class="headerlink" title="@Bean注解方法执行策略"></a><code>@Bean</code>注解方法执行策略</h3><p>先给一个简单的示例代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBeanConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Country <span class="title">country</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Country();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserInfo <span class="title">userInfo</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserInfo(country());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>相信大多数人第一次看到上面 userInfo() 中调用 country() 时，会认为这里的 Country 和上面 @Bean 方法返回的 Country 可能不是同一个对象，因此可能会通过下面的方式来替代这种方式：<br>@Autowired<br>private Country country;<br>实际上不需要这么做（后面会给出需要这样做的场景），直接调用 country() 方法返回的是同一个实例。<br>下面看调用 country() 和 userInfo() 方法时的逻辑。</p>
<p>现在我们已经知道<code>@Configuration</code>注解的类是如何被处理的了，现在关注上面的<code>BeanMethodInterceptor</code>，看看带有<code>@Bean</code>注解的方法执行的逻辑。下面分解来看<code>intercept</code>方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//首先通过反射从增强的 Configuration 注解类中获取 beanFactory</span></span><br><span class="line">ConfigurableBeanFactory beanFactory = getBeanFactory(enhancedConfigInstance);</span><br><span class="line"></span><br><span class="line"><span class="comment">//然后通过方法获取 beanName，默认为方法名，可以通过 @Bean 注解指定</span></span><br><span class="line">String beanName = BeanAnnotationHelper.determineBeanNameFor(beanMethod);</span><br><span class="line"></span><br><span class="line"><span class="comment">//确定这个 bean 是否指定了代理的范围</span></span><br><span class="line"><span class="comment">//默认下面 if 条件 false 不会执行</span></span><br><span class="line">Scope scope = AnnotatedElementUtils.findMergedAnnotation(beanMethod, Scope<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="keyword">if</span> (scope != <span class="keyword">null</span> &amp;&amp; scope.proxyMode() != ScopedProxyMode.NO) &#123;</span><br><span class="line">    String scopedBeanName = ScopedProxyCreator.getTargetBeanName(beanName);</span><br><span class="line">    <span class="keyword">if</span> (beanFactory.isCurrentlyInCreation(scopedBeanName)) &#123;</span><br><span class="line">        beanName = scopedBeanName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//中间跳过一段 Factorybean 相关代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断当前执行的方法是否为正在执行的 @Bean 方法</span></span><br><span class="line"><span class="comment">//因为存在在 userInfo() 方法中调用 country() 方法</span></span><br><span class="line"><span class="comment">//如果 country() 也有 @Bean 注解，那么这个返回值就是 false.</span></span><br><span class="line"><span class="keyword">if</span> (isCurrentlyInvokedFactoryMethod(beanMethod)) &#123;</span><br><span class="line">    <span class="comment">// 判断返回值类型，如果是 BeanFactoryPostProcessor 就写警告日志</span></span><br><span class="line">    <span class="keyword">if</span> (logger.isWarnEnabled() &amp;&amp;</span><br><span class="line">            BeanFactoryPostProcessor<span class="class">.<span class="keyword">class</span>.<span class="title">isAssignableFrom</span>(<span class="title">beanMethod</span>.<span class="title">getReturnType</span>())) </span>&#123;</span><br><span class="line">        logger.warn(String.format(</span><br><span class="line">            <span class="string">"@Bean method %s.%s is non-static and returns an object "</span> +</span><br><span class="line">            <span class="string">"assignable to Spring's BeanFactoryPostProcessor interface. This will "</span> +</span><br><span class="line">            <span class="string">"result in a failure to process annotations such as @Autowired, "</span> +</span><br><span class="line">            <span class="string">"@Resource and @PostConstruct within the method's declaring "</span> +</span><br><span class="line">            <span class="string">"@Configuration class. Add the 'static' modifier to this method to avoid "</span> +</span><br><span class="line">            <span class="string">"these container lifecycle issues; see @Bean javadoc for complete details."</span>,</span><br><span class="line">            beanMethod.getDeclaringClass().getSimpleName(), beanMethod.getName()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//直接调用原方法创建 bean</span></span><br><span class="line">    <span class="keyword">return</span> cglibMethodProxy.invokeSuper(enhancedConfigInstance, beanMethodArgs);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果不满足上面 if，也就是在 userInfo() 中调用的 country() 方法</span></span><br><span class="line"><span class="keyword">return</span> obtainBeanInstanceFromFactory(beanMethod, beanMethodArgs, beanFactory, beanName);</span><br></pre></td></tr></table></figure>

<p>关于<code>isCurrentlyInvokedFactoryMethod</code>方法<br>可以参考<code>SimpleInstantiationStrategy</code>中的<code>instantiate</code>方法，这里先设置的调用方法：</p>
<p>currentlyInvokedFactoryMethod.set(factoryMethod);<br>return factoryMethod.invoke(factoryBean, args);</p>
<p>而通过方法内部直接调用<code>country()</code>方法时，不走上面的逻辑，直接进的代理方法，也就是当前的<code>intercept</code>方法，因此当前的工厂方法和执行的方法就不相同了。</p>
<p><code>obtainBeanInstanceFromFactory</code>方法比较简单，就是通过<code>beanFactory.getBean</code>获取<code>Country</code>，如果已经创建了就会直接返回，如果没有执行过，就会通过<code>invokeSuper</code>首次执行。</p>
<p>因此我们在<code>@Configuration</code>注解定义的 bean 方法中可以直接调用方法，不需要<code>@Autowired</code>注入后使用。</p>
<h3 id="Component注意"><a href="#Component注意" class="headerlink" title="@Component注意"></a><code>@Component</code>注意</h3><p><code>@Component</code>注解并没有通过 cglib 来代理<code>@Bean</code>方法的调用，因此像下面这样配置时，就是两个不同的 country。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBeanConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Country <span class="title">country</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Country();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserInfo <span class="title">userInfo</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserInfo(country());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有些特殊情况下，我们不希望<code>MyBeanConfig</code>被代理（代理后会变成<code>WebMvcConfig$$EnhancerBySpringCGLIB$$8bef3235293</code>）时，就得用<code>@Component</code>，这种情况下，上面的写法就需要改成下面这样：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBeanConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Country country;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Country <span class="title">country</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Country();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserInfo <span class="title">userInfo</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> UserInfo(country);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种方式可以保证使用的同一个<code>Country</code>实例。</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>记录</tag>
      </tags>
  </entry>
  <entry>
    <title>换工作全过程</title>
    <url>/%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="不对哦, 多试试说不定就对了≖‿≖✧" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">你猜๑乛◡乛๑</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="8ba72c04cb4d9f6844fdffaef66fda62b5901188472f84e65e1d0c08ad3e700d">702e89962d1c1216ec9f570fa677feb1070405c656a3dfa7b0f0519af420d465a2cd451834fde550d9830cf3a3967c70ab0dee0b6575ba7fd3a182aa3881b3864bb3fa2e65e3b2f72c99e536917cb7472e72c5ae93060d3adf05375095b365886745496e816f7d8b9a2d5849364b18f9f52442258cfd72d70532e44ea1e08103dffe2b0e2120b3ae9369639f653e012c89fce9284e9d93375ba0c60bf0f89491aae5790dd766b2bb4f78326b8ffdefdb8b1346cebb86107084dbd5282fea7f975c5fdbb5b8001cf4214c1eeb048319b905e485d72c49ab085392239476c4750f193d1b5d4a1b49b8c538b591ef7cf33394459e42ecd671f4abefc9fa33ac0877f4b818be1e2aea4b409535a971c5efd05ee28590930a7dcd2021b81d4d808f646e5cb1c01a17a565e2917cdcbed37adfa0867ddd307fcd2d56cd83cbf5fb7ac2b4100247380b66d579ca7ea06a2964066c92b3f1cff83f5919d4cd73b52adcd63cbf24355c0bfd918ad72d4fcb6f4127d665916b558944e73c4d26bfdffe033b5d20cfb6761fa1d18d1f8af3e067044a51a5943747d2fe80147d7dd6e006fecb882794333a49d33098fb85502d13beb516f0935f4006e41bbe20eff62c6115135a1cd6f90a326e4c8826879962a487ec8a16400f36be4c1a6e643a4ef58a927aa2b0403136f6647c54790b255fd1b2ef133e168dcefb899db942b8a8b3216af0bc482006343ea49820b7f422911e18f5daef89aef60fee58214a37bab92422e4eb7cd61301b25a76d6d7241917d3208c0102c9cfb697d9765da678773bd5015ad2d5549862a1a6f26b218681fb99476843a68b09cdfa019ca1de2496a09ba0683336fcb69fdffb53e77c33b9d65a0348321d40e37451aef38eab865beac6454f1ab6e3ee3d6f82b7635c89c9fe4af411a29f248c63246ed58c7ea39a1f97c106e5ce9ff6d62a50a66d0552e3b306fac611754f150043563c03e793b7d9420e24faa634515e6dfe1a9308bf938fef27c17ba79c19d8b3363c1d4e86c6903cb219288f7255a0d251e8bd59175b3539876ce8bb9242cf9abd6c2bc7accd484880c10b6140607bca885d60b37dbbef2dd4e548cf4b3d20089a999d7983b9d40339859d29a012c00ae3c9e6615a09d5472222e69e27c5d483e6d9189ce16baa662cf2dc804c0953fecb39775ea41a3f9fbdaae4351101450d2313128d4ab8109b3629ef09c750642321a696eabf849e3357f300268fc6247505a9a8a1ad127b2ba23e610456597821b2bc79a52061bb12706613208e783bcfc50a50f140c9c6224873b64d5becc6b299bf10d1ae8a858defc11e9aa913ba9a05968fd482c4e2e051a9e721e1fa5af40e23afd9a02e14c828df048a4d3d89c8973286e8276c5c6aaeb5b06b0f87fec6be759f86edb29588ae0c3f0a71a349f760ab8c47e48e6d69a93f6c998f98d41632b7d95581be14dbe77d08047321c962bbc9091ae0cab49c37f94b0cf02fdf94d055db6f10a2f77b99b4b7cd4f5abdf5c6e05170ef65643fbfa745d0bc076574dbbb503cc68697464676c1997252a942da7f3a6a1e0120734fdcbd68aae96f957c44d103eda988026774517d15f5fc166231ff116a44675ad75c1d0fff3100b76703641f8b8af3c7d5efe09c3b3c97ee30a15aa793e2817baa9b94f6d273a92ce1ed538666b85e8a7128c7a830a1c5abbf8b988c5eb9f564f1cb22f150460a5934658621ac5dcb4a027dd509018c78144a5b54a09ccb27fd58241a53906e98f50aff94a720eda108d096dda2cf4374d7c01418c193495e31f5fae988373d2c31ffa9d1959c5f0104a7edac371477a663d9e0215bd30cc859686355730eccb53104c3c5693aec2bb4c8f7c4099925d659893a4297cafcd9fc6a90cb5642ca973729d3c868e61755c5eeece5bd39e72cd7ddefe5a67dd64840c90f822e9f941afcdb4aff84a10f47a37b172a9aab262860d7267ceb9a8d4d65b093a7ac6fbba38b110cf511cdaf0791b7b54bf7d2614d3a8d4ae455bc52224454da0ea17a18a64091b9c25443f5b14651aca430e6bb0c70a733d544d75c6e2b8a5f4a5680471b809a7403b731347f5e0beef8ee8f0b36300f65fed52b274a72b4ed308198d6d194de8c36141a7078bb6348e7e7dd914b74b7e3f6e774add0df2b9b4d40f06257aa06102347d9dfc7d7b40d7c039ece3c61ed152088243fc87c9f79904144142eba7f2ed9b16e2d4a4c3be6d7864f695359373a5db5f38b29c1fcc77513980300269d3ecb2cb526dd6454307c8e2477b9b240d488813b576fd63c0145a3dcf990cc71cec4268fe7a37fb1158077c18f90a86d43af2ec58c550e96768f885e8f0f4ef34ec426ffc1a184610bb38670c606b6cf2860801894766b6f9bc8328853201f63511827f053e5a9a9bf51e2a25789a90a9b0cfabd01e78f3f3449fe47d24f81afd3d8f6781657c3d9f15991ce63a8b12e7c197e842e0acbf2d114bca71c064e2fdd9038923132a6fe09406c7818ee421aae509d85af00ce2d8c676f4d21b3815476386e4666c9dac810587eee2227bb5fe94501087a58fccd6c8448eedb80bccc802e109d691cf8374cf1ae7bdcb37a213366968db079af161612aeb1d5fd942239db3ef61c7ca93f5dd6eeb99e5cfb9ef7ee49f38a1d3754e57ce93cd516088c0d1df2646bf926bf090f2fd9fe8d59688e44b2966f7cc706c2112baa19ad32e3db2312d20778bebe37e6a726c70cc887e35a08e33f87b447d8579723c43c8ee555828011809d64672a80aa964cd5abd2e7b84b783fe96fe87536e77ef99fa80862d104783fdd7449688fb89668c4769037d4551168ea5bfe947691c3db1af118aad6c8f85dcb30164cc4cf588a2d6b2f3eebc5335936ed6d8f2bd0164a0b46e57922e9d8fa9ba43b11f2b60768fa8b881c7a87182a2b5661e9b107a2557af5b661cb28706acb0cd7cc2cc76902628c9bcc6c8dda7613fa48b04f7d9addb1b26550e543c445e88f167dace6528705fd45decd5e5e921ffafadae42ded95d7c4a35cadeb42b683f55dcb9481906b83151451cd1dd5cbcf62dbe4b22caf3398129c33ac4e9c4c12720ea517ed0e07b1935a54f6ae041f0185fca150788a661a76cfc8887144cc3d86c407c99e8d4efb50b77bd6bc5eae2c78fa9ff08a8671bf5013f4eb8eb5d34ecb8fd0b090cdf34d79cdf04fe8d1cde7cac9f9f22e5d74ee72c6f95c465260a72cdd2f6d37cf2db13ad3ff96cc4a5d1e2427fbd5cb75d4e3683b4a15ddcf75b1643f6bc59b0a11060e7c234aa43c8d6800d17bf57e23853392a6b2050a7adb3edfb0695ffea8f22ce472ab80d38ac6d9679fc5db7a778ea2613e7461fb21aa3ff65d879c3ccda74305928ba91cd67e0a5099218e4245cf29f4c2e15bd14cfa5007ada6937fee693528a3cc37c250022557941e542faab14bd19ea0dc9fa0d66b00968c3c4f05059a8b8baded25e02380655a261a66ee8256d32ed645a24421b3f1284be03a55e51c3ac99ec273cbef7a72f58222a536f15f52ac7fd2270f0458ddff8d521652ef2ef3f9659ff215bc7244ba4ab80121dc1253695bcecb5920c27153d2f4a7dd3281221be2502ec86c96e9a3122bc4e50cb0a650cb40ab5ea8d1934b0e5e752772e18a737b5dae399f50cb4d08c6ab2eb9d1efd68c8d7c6b4261498399880ed55a5518708fe215c71ac732d60864bc6e7a63e9509672f68376539cba78fe4ac99fb12060aa2197bc3b25877e6cf5fe1040a7fd10832c604d096471fff773c140375e6eef6486ae0fab66e026500eecac66909765b73ed9fa14ee97dcf4b9235937bc93950e5dda8d0b7aa7d83c5eca497f5a8d6e3da72d78e174de9a724a70a7da8008cc2b8b990d137f4e6baa5279ffda7d68dc88f115d7c36009fbcefc568c2d071dd11b245202b899c36a299e69a0a4da22c84bcdc1f336ff89b960e35c9592863e1f86d5963e82b17775e8c9239410659ab0f5adec1813419e265c8f8b6b36d3d3b1442d432a5552b569e1</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>工作</tag>
      </tags>
  </entry>
  <entry>
    <title>JNDI数据源配置</title>
    <url>/JNDI%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-修改对应tomcat下的conf文件夹中的context-xml"><a href="#1-修改对应tomcat下的conf文件夹中的context-xml" class="headerlink" title="1.修改对应tomcat下的conf文件夹中的context.xml"></a>1.修改对应tomcat下的conf文件夹中的context.xml</h2><p>在context.xml <context>节点中配置</context></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Resource</span> </span></span><br><span class="line">		&lt;!-- 需要连接的数据库驱动名(我这里是达梦数据库) --&gt;</span><br><span class="line">		driverClassName="dm.jdbc.driver.DmDriver" </span><br><span class="line">		<span class="comment">&lt;!-- 连接池最大数量 --&gt;</span></span><br><span class="line">		maxActive="100" </span><br><span class="line">		<span class="comment">&lt;!-- 连接池最大空闲 --&gt;</span> </span><br><span class="line">		maxIdle="200" </span><br><span class="line">		<span class="comment">&lt;!-- 获取连接最大等待时间 --&gt;</span></span><br><span class="line">		maxWait="5000" </span><br><span class="line">		<span class="comment">&lt;!-- 自己定义的名称 --&gt;</span></span><br><span class="line">		name="jeerdp_DS" </span><br><span class="line">		<span class="comment">&lt;!-- 数据库密码 --&gt;</span></span><br><span class="line">		password="123456789" </span><br><span class="line">		<span class="comment">&lt;!-- 数据库用户名 --&gt;</span></span><br><span class="line">		username="GZXT" </span><br><span class="line">		type="javax.sql.DataSource" </span><br><span class="line">		<span class="comment">&lt;!-- 要连接的库对应的url --&gt;</span></span><br><span class="line">		url="jdbc:dm://192.168.1.5/GZXT"/&gt;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="2-修改项目中的web-xml文件"><a href="#2-修改项目中的web-xml文件" class="headerlink" title="2.修改项目中的web.xml文件"></a>2.修改项目中的web.xml文件</h2><p>在web.xml中添加配置</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resource-ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>jeerdp_DS<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">res-ref-name</span>&gt;</span>jeerdp_DS<span class="tag">&lt;/<span class="name">res-ref-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">res-type</span>&gt;</span>javax.sql.DataSource<span class="tag">&lt;/<span class="name">res-type</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">res-auth</span>&gt;</span>Container<span class="tag">&lt;/<span class="name">res-auth</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">res-sharing-scope</span>&gt;</span>Shareable<span class="tag">&lt;/<span class="name">res-sharing-scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resource-ref</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-添加数据库驱动文件"><a href="#3-添加数据库驱动文件" class="headerlink" title="3.添加数据库驱动文件"></a>3.添加数据库驱动文件</h2><p>通过数据源访问数据库，由于数据源由Tomcat维护，所以必须把对应的JDBC驱动复制到Tomcat的lib文件夹下<br><img src="/JNDI%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE/drive.JPG" alt="JDBC驱动"></p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>记录</tag>
      </tags>
  </entry>
  <entry>
    <title>Android使用OkHttp发送Get和Post请求</title>
    <url>/Android%E4%BD%BF%E7%94%A8OkHttp%E5%8F%91%E9%80%81Get%E5%92%8CPost%E8%AF%B7%E6%B1%82/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-首先添加OkHttp依赖包"><a href="#1-首先添加OkHttp依赖包" class="headerlink" title="1.首先添加OkHttp依赖包"></a>1.首先添加OkHttp依赖包</h2><p>依赖包要根据自己的安卓版本选择，否则版本冲突会报错</p>
<h2 id="2-在工具类HttpUtil中编写发送Get和Post请求方法"><a href="#2-在工具类HttpUtil中编写发送Get和Post请求方法" class="headerlink" title="2.在工具类HttpUtil中编写发送Get和Post请求方法"></a>2.在工具类HttpUtil中编写发送Get和Post请求方法</h2><p>在发送请求的时候可能会出现NetworkOnMainThreadException异常，解决方法有两个<br>1.简单暴力，强制使用，代码修改简单<br>在MainActivity文件的setContentView(R.layout.activity_main)下面加上如下代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (android.os.Build.VERSION.SDK_INT &gt; <span class="number">9</span>) &#123;</span><br><span class="line">    StrictMode.ThreadPolicy policy = <span class="keyword">new</span> StrictMode.ThreadPolicy.Builder().permitAll().build();</span><br><span class="line">    StrictMode.setThreadPolicy(policy);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>2.将请求网络资源的代码使用Thread去操作。在Runnable中做HTTP请求，不用阻塞UI线程。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable()&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		cachedImage = asyncImageLoader.loadDrawable(imageUrl, position);</span><br><span class="line">		imageView.setImageDrawable(cachedImage);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;).start();</span><br></pre></td></tr></table></figure>
<p>编写发送Get请求方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用OkHttp发送get请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> url 请求地址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> header 请求头Headers</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">sendGet</span><span class="params">(String url, Map&lt;String, String&gt; header)</span> </span>&#123;</span><br><span class="line">	String result = <span class="keyword">null</span>;</span><br><span class="line">	OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">	Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">			.url(url)</span><br><span class="line">			.addHeader(<span class="string">"Authorization"</span>, header.get(<span class="string">"Authorization"</span>))</span><br><span class="line">			.build();</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">		result = response.body().string();</span><br><span class="line">	&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编写发送Post请求方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用OkHttp发送post请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> url 请求地址</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> params 请求参数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">sendPost</span><span class="params">(String url, Map&lt;String, Object&gt; params)</span></span>&#123;</span><br><span class="line">	String result = <span class="keyword">null</span>;</span><br><span class="line">	OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">	FormBody.Builder builder = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line">	<span class="comment">//循环写入参数</span></span><br><span class="line">	<span class="keyword">for</span>(Map.Entry&lt;String, Object&gt; param : params.entrySet())&#123;</span><br><span class="line">		builder.add(param.getKey(), (String) param.getValue());</span><br><span class="line">	&#125;</span><br><span class="line">	FormBody requestBody = builder.build();</span><br><span class="line">	<span class="comment">//创建一个请求对象</span></span><br><span class="line">	Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">			.url(url)</span><br><span class="line">			.post(requestBody)</span><br><span class="line">			.build();</span><br><span class="line">	<span class="comment">//发送请求获取响应</span></span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">		Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">		result = response.body().string();</span><br><span class="line">	&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-在需要发送请求的地方调用方法"><a href="#3-在需要发送请求的地方调用方法" class="headerlink" title="3.在需要发送请求的地方调用方法"></a>3.在需要发送请求的地方调用方法</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String openDoor_url = <span class="string">""</span>;</span><br><span class="line">String authorization = <span class="string">""</span>;</span><br><span class="line">Map&lt;String, String&gt; header = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">header.put(<span class="string">"Authorization"</span>, authorization);</span><br><span class="line">HttpUtil.sendGet(openDoor_url, header); <span class="comment">//发送Get请求</span></span><br><span class="line"></span><br><span class="line">String login_url = <span class="string">""</span>; <span class="comment">//请求接口</span></span><br><span class="line">Map&lt;String, Object&gt; params = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">params.put(<span class="string">"loginName"</span>, username);</span><br><span class="line">params.put(<span class="string">"password"</span>, password);</span><br><span class="line">String str = HttpUtil.sendPost(login_url, params); <span class="comment">////发送Post请求</span></span><br></pre></td></tr></table></figure>
<h2 id="4-在记录一下获取JSON数组中的值"><a href="#4-在记录一下获取JSON数组中的值" class="headerlink" title="4.在记录一下获取JSON数组中的值"></a>4.在记录一下获取JSON数组中的值</h2><p>第一种方法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String str = <span class="string">"&#123;'array':[&#123;'id':5,'name':'张三'&#125;,&#123;'id':6,'name':'李四'&#125;]&#125;"</span>;</span><br><span class="line">JSONArray jsonArray = <span class="keyword">null</span>;</span><br><span class="line">jsonArray = jsonobj.getJSONArray(<span class="string">"array"</span>);<span class="comment">//获取数组</span></span><br><span class="line">System.out.println(jsonArray.getJSONObject(<span class="number">0</span>).get(<span class="string">"name"</span>));</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String str = <span class="string">"[&#123;'columnId':5,'columnName':'人文历史'&#125;,&#123;'columnId':2,'columnName':'商业视野'&#125;]&#125;"</span>;</span><br><span class="line">JSONArray jsonArray = <span class="keyword">null</span>;</span><br><span class="line">jsonArray = <span class="keyword">new</span> JSONArray(str);</span><br><span class="line">System.out.println(jsonArray.getJSONObject(<span class="number">0</span>).get(<span class="string">"columnName"</span>));</span><br></pre></td></tr></table></figure>
<p>二、JAVA获取json中的全部键值对</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">JSONObject json1=JSONObject.fromObject(<span class="string">"&#123;'username' : '11111','clientid' : '','password' : '222222'&#125;"</span>);  </span><br><span class="line">Map&lt;String, Object&gt; map =json1;  </span><br><span class="line"><span class="keyword">for</span> (Entry&lt;String, Object&gt; entry : map.entrySet()) &#123;  </span><br><span class="line">    System.out.println(entry.getKey()+<span class="string">"="</span>+entry.getValue());  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>Android底部弹窗BottomSheetDialog的使用</title>
    <url>/Android%E5%BA%95%E9%83%A8%E5%BC%B9%E7%AA%97BottomSheetDialog%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-首先写一个dialog展示的xml-menu-xml"><a href="#1-首先写一个dialog展示的xml-menu-xml" class="headerlink" title="1.首先写一个dialog展示的xml(menu.xml)"></a>1.首先写一个dialog展示的xml(menu.xml)</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span> <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ListView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">"@+id/menu"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="2-再写一个ListView布局的xml-menu-listview-xml"><a href="#2-再写一个ListView布局的xml-menu-listview-xml" class="headerlink" title="2.再写一个ListView布局的xml(menu_listview.xml)"></a>2.再写一个ListView布局的xml(menu_listview.xml)</h2><p>这里使用LinearLayout是为了让图片跟文本能够显示在同一排上</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">"vertical"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">LinearLayout</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:gravity</span>=<span class="string">"center"</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ImageView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/pic"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:id</span>=<span class="string">"@+id/menu_listview"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_width</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:padding</span>=<span class="string">"45dp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textSize</span>=<span class="string">"40sp"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textStyle</span>=<span class="string">"bold"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:singleLine</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:textAppearance</span>=<span class="string">"?android:attr/textAppearanceButton"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3-编写展示弹窗方法"><a href="#3-编写展示弹窗方法" class="headerlink" title="3.编写展示弹窗方法"></a>3.编写展示弹窗方法</h2><p>在MainActivity.java中编写方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">BottomSheetDialog dialog = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">private</span> List&lt;Map&lt;String, Object&gt;&gt; dataList; <span class="comment">//图片和文本数据</span></span><br><span class="line"><span class="keyword">private</span> String[] array; <span class="comment">//展示的功能文本</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">showMenu</span><span class="params">()</span></span>&#123;</span><br><span class="line">	dialog = <span class="keyword">new</span> BottomSheetDialog(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">	View view = LayoutInflater.from(MainActivity.<span class="keyword">this</span>)</span><br><span class="line">			.inflate(R.layout.menu,<span class="keyword">null</span>);</span><br><span class="line">	ListView listView = view.findViewById(R.id.menu);</span><br><span class="line">	dataList = <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">	SimpleAdapter adapter = <span class="keyword">new</span> SimpleAdapter(MainActivity.<span class="keyword">this</span>,</span><br><span class="line">			getData(),</span><br><span class="line">			R.layout.menu_listview,</span><br><span class="line">			<span class="keyword">new</span> String[]&#123;<span class="string">"pic"</span>, <span class="string">"name"</span>&#125;, <span class="comment">//这里一定要写对应map的key</span></span><br><span class="line">			<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;R.id.pic, R.id.menu_listview&#125;); <span class="comment">//menu_listview.xml文件ImageView和TextView对应的id</span></span><br><span class="line">	listView.setAdapter(adapter);</span><br><span class="line">	dialog.setContentView(view);</span><br><span class="line">	dialog.setCancelable(<span class="keyword">false</span>); <span class="comment">//设置弹窗不可以点击背景取消</span></span><br><span class="line">	dialog.show(); <span class="comment">//展示弹窗</span></span><br><span class="line">	<span class="comment">//为每个功能绑定单击事件</span></span><br><span class="line">	listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; adapterView, View view, <span class="keyword">int</span> i, <span class="keyword">long</span> l)</span> </span>&#123;</span><br><span class="line">			Toast.makeText(MainActivity.<span class="keyword">this</span>, <span class="string">"你点击了"</span> + array[i], Toast.LENGTH_SHORT).show();</span><br><span class="line">			dialog.dismiss(); <span class="comment">//点击事件后关闭弹窗</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>绑定单击事件还可以这样写</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; adapterView, View view, <span class="keyword">int</span> i, <span class="keyword">long</span> l)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">switch</span> (i)&#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"你点击了"</span>+i+<span class="string">"按钮"</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line"> </span><br><span class="line">                    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"你点击了"</span>+i+<span class="string">"按钮"</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line"> </span><br><span class="line">                    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"你点击了"</span>+i+<span class="string">"按钮"</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line"> </span><br><span class="line">                    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"你点击了"</span>+i+<span class="string">"按钮"</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line"> </span><br><span class="line">                    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                        Toast.makeText(MainActivity.<span class="keyword">this</span>,<span class="string">"你点击了"</span>+i+<span class="string">"按钮"</span>,Toast.LENGTH_SHORT).show();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>
<h2 id="4-编写方法，将图片和文本绑定在一起"><a href="#4-编写方法，将图片和文本绑定在一起" class="headerlink" title="4.编写方法，将图片和文本绑定在一起"></a>4.编写方法，将图片和文本绑定在一起</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;Map&lt;String, Object&gt;&gt; getData()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr_pic = &#123;R.drawable.open_door, R.drawable.light, R.drawable.cabinet, R.drawable.close&#125;;</span><br><span class="line">        array = <span class="keyword">new</span> String[]&#123;<span class="string">"开门"</span>, <span class="string">"开灯"</span>, <span class="string">"待添加"</span>, <span class="string">"关闭"</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            map.put(<span class="string">"pic"</span>, arr_pic[i]);</span><br><span class="line">            map.put(<span class="string">"name"</span>, array[i]);</span><br><span class="line">            dataList.add(map);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dataList;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-监听弹窗dismiss事件"><a href="#5-监听弹窗dismiss事件" class="headerlink" title="5.监听弹窗dismiss事件"></a>5.监听弹窗dismiss事件</h2><p>有时候需要在弹窗dismiss后修改值或者进行一些操作，BottomSheetDialog也给我们提供了方法</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dialog.setOnDismissListener(<span class="keyword">new</span> DialogInterface.OnDismissListener() &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDismiss</span><span class="params">(DialogInterface dialogInterface)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//这里写弹窗dismiss之后你要执行的操作</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="6-最后，在需要展示的地方调用showMenu方法就可以了"><a href="#6-最后，在需要展示的地方调用showMenu方法就可以了" class="headerlink" title="6.最后，在需要展示的地方调用showMenu方法就可以了"></a>6.最后，在需要展示的地方调用showMenu方法就可以了</h2><p><img src="/Android%E5%BA%95%E9%83%A8%E5%BC%B9%E7%AA%97BottomSheetDialog%E7%9A%84%E4%BD%BF%E7%94%A8/dialog.png" alt="弹窗示例"></p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>找实习全过程</title>
    <url>/%E6%89%BE%E5%AE%9E%E4%B9%A0%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<div id="hexo-blog-encrypt" data-wpm="不对哦, 多试试说不定就对了≖‿≖✧" data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <div class="hbe-input-container">
  <input type="password" id="hbePass" placeholder="" />
    <label for="hbePass">你猜๑乛◡乛๑</label>
    <div class="bottom-line"></div>
  </div>
  <script id="hbeData" type="hbeData" data-hmacdigest="befbea1b4323f84887b77127c49774f33cf1e946d83a788501b4596c909b64a6">702e89962d1c1216ec9f570fa677feb1070405c656a3dfa7b0f0519af420d465a2cd451834fde550d9830cf3a3967c70ab0dee0b6575ba7fd3a182aa3881b3864bb3fa2e65e3b2f72c99e536917cb7472e72c5ae93060d3adf05375095b365886745496e816f7d8b9a2d5849364b18f9f52442258cfd72d70532e44ea1e08103dffe2b0e2120b3ae9369639f653e012c89fce9284e9d93375ba0c60bf0f89491aae5790dd766b2bb4f78326b8ffdefdb8b1346cebb86107084dbd5282fea7f975c5fdbb5b8001cf4214c1eeb048319b905e485d72c49ab085392239476c4750f193d1b5d4a1b49b8c538b591ef7cf33394459e42ecd671f4abefc9fa33ac0877f4b818be1e2aea4b409535a971c5efd05ee28590930a7dcd2021b81d4d808f646e5cb1c01a17a565e2917cdcbed37adf1e6f0c67342cfb4afea960a5204de1c4146394bd0fae9bcd15e981ce7f37bc83e0d776de646127d0cc4f71ac53bdf133cbc24bd5fc93607301d3716423493428d2f4a022efc00459ba55a41d4a0ee6e409e747d08f7e444d23b60a648d4a3f2edd58a989d2c399dd908ef1b7a1a65f6462a46141fb3d7f5665e96ee17830df411752438eff9eef4c2cc54ec8bab1bcf5f5c044731067d3078b449b1dc0eb67b799424d88e9968b396a83aa8386a261f2266abe1968c50a54e8a26e90de598533d8db89bd71aab46f46933766450d01837045169322d29bea114b8b10011b3e0ef57041b818ec700065f84d8462544b70d54460d7b8c23131e25937efbce36f3acff211b1ad23878978353ae9b434bbd1717100ff34b1aad7f1fcd28dd6e4c6a92c0eb886229ed40938c7d56b4d56ae4a654563a93e2fc86df1752a0eb54fb03fca80feff4a1cceca48dfe6fac3140ed668c1076563fb06ecbf3b508c825e267f79acdf807231598004c16c9403482a5badb9a728849f5466b7fcf7dee1423b5c1048753c2322fcb0a79b31652e8f3a114732d1816d734cbaddf2794d2816c59d8a5fa303b5c06a3346054ce5d7afa9d28ff16c289343515764cdb050d1dda5f4bb34385472cd1b294b8f2488d2f1a58386a9f3cf900cedfb6a2e6d24a5df4d8f709f67a2e12fb8fe031d3d40404254a393b4a78f087fafe056d75115f3fa064019652761aa25598cff78cf57f2e487fe785fba116e9f9201ce8ea2abf24fceed8365eddcbb3b3fecf365c9ce9b53b3f1198790c4395a13f6431440578abafc87981f9d428eb52f7c0a5d3ae30edb429d6993d60be78a9274342659d3565f9d2a4c9a7c9f64a5f384bbfe18d45f415a529d7c15eeaa4c75851842af0898ac203057e5e2100efb86101078fc647cfb796080124d09ca574ce95582b39a64e8cdf5c61e2d139c3aea3d2f5c72e4e82ddaed1209e5da90f9eac5ba84ba82920a1d00d6cf52ba4884d5f9ceee3a9ed6acfc63b34665730b7720145680ffebe18388abb91159142ebd19ccc4e5fd36b455cabee7e4e9772af8892cbbe3e050a9fd8d0e9ea8759de56c12782f6c9ed3d61d0f4640b922cdd3662319d3bfcd51839b21991c022e074af1611bf1437954cc5ef2589d78b0e8863c797357e680d52df2a8d38b5df8d5eab69bfff3995eeac61f773e801728c3ae144596c2b212acb94e0b601d8abf981b2ad514c3854a84ce10cd2fc46a79792c9edee2bfb82f9035d6ccedcbf596cc9af0287753a622d0b8fff0231973c5efc7c762718481e1ad921ef341ea369f761d7acbeb62060bd409ecbbd3b235dc30517185133acfbe3c9fe21ead9fe5f5aaaf5bedf560c020db3913439090fb2fc8f9da8aeaf79a11fa2b4b6c339162df091b978bd7d7ce6473baedd441d8046e797c5fa40358d4895a180160c2300b5f30fd56328f361b78bb6c65b0f51f7833c9fa84e8d001edf9cc677821749d536c8d7fe546254d46a81a9b216e9c7e7eea9d027ef3f0091b4650e553fec508babd16a0caeb8fba05b5a0fc7b9c7fa5c399bec3ef446868713076cfb9d82129676c5890459300dfaeceac08e462782ed4a07edf3d22acccb9849f9d7804758634f0cdda8f1c1989cb7ec1bcec1b014fe1d89416f9998d62540e81ffdd5e0cd04a02785aa517d1967b215b83252a2be3846acf59c8449cdf81901c4fe3fcdea6e6f4ff37639e6dfe90543c5bec3a6df54c07830ffe4531c14d4f7ea95e48fc9f6e4e6e9ea3b9c8d8023c8a03b7d5c75aca88575ed09e305c7f4588d02659094a74104d29f93422bf0d47dd6f556ba67a6630583a9191753094c35b7abee8791807333e3cd148a61925cab5b1734e9441d62148bc4413e7c7dc80a9c06255e000f57d095e5c868db0dca0ba4fc17d94d738d3605410df5cc1bbc3b6e334b48632aeee8169286088da036dfb46f0c6b1651965dbd25c51230428aeae92eacd61829b1d4e72c160d01f1a334ea8d37e77904da585c91dadd3b0a30c8a421f14282388e5e1fc81d3837e2fb639ba27c04231392bc787b8abc6992a4b6af5a484ce7a31471b99c7c39e57d728cd39c16fa83aa567189508232efcb9971178de3b3703203cef68cbbeb4dbd7c36ad2a357cd6756cca024c348b761c2056946932c318ce9cc410fcc5a82ffcd4374cfabb593df9d8f2f61ab0e017c961f7b60cb1a344a10faa9b70f443d45483948da6ddc50939bfd6d0f02f86b41965a710b9078a68479969b0c69598cc38f6eba80225c13449b2b145d5f829a2d539eec99c10360ef9a7c3a8764e535bf135ec9eebb0e05c6a2d065ae00a19310311901295bb4717fe89be95f2524a0794b1189db9d16f77362c349c524346bfbee5894cd7c7e10184f587cf5c1402dbdb80c77369a7c022b22cfba6d21e4f4281ee9ecf08b05dafe334592e6fcea378ad856592167c910ef06376dea4c54a2ae2df5c569c3e52f1489935fdfacd99f6b837a5d52c1b0f973971a4220df2a25d6f8a538041fcca9be6258d82cdeb0ec4c4115ae572851ae4adc887a6d41d4374043682bba54f2839c7da86b5d8e2c131c7bcc5f9bc7aa9db3ad91b20040a47a856fe818b64ccb4779d4f864ee386ff76e41d3ccd913b5a3e7671963af8b591c1064a3b7ddc2f5abe783146a06ac7ccb04039f871787ee0e8cf07e8e25b4be4b19be16c4d4c20d9143032fdc26f4a41addeb53938ab7a7f4286eed49bc2b6fc1ce470350bc4fc13ef5f82f22a0729e516b33a349bef482ebcacd00f7fa6de925657fc1223db89d8df1090ddab31dcf3bb1b198428915d8a46d3fb6bf39b420bf6375665aa82d23d3d9ba18c1a3ec2e2cd9f9f524a9f0fbe8da8611d13c1a36e5f14d43bf912a4e08064be4bfe4adff1cee36b5b265a9009bfe802d7aecde2363254a30a12d1d1cd6bd279e6363862f7cf5a2d78796e5873cde25492571d9c148f4c0b0e7fb34c31efa3f9ace4a24605bdb3c0bd23f7c8baae40422b8481691a18751a42d72b22fc6ed15bd3489aa0a21d238f6ed7088fcccdbb6e0b2322372cb642ba49529494bd784464b2d3ee8d6932cbe0d180c3ef25feba12e6b2eceee92f75fb2e0382ad31a5548a8a80d63881faed96416cdfd73c28234234ac336ba5a47bf5000cb8d3120cc4dd5e4ef3327255f801f6fbd9dc212f0aee87402ce075ab2b7517163e78c165378c22abd27cf0d0dd2769c6407ff4c50f13c4045a9236f8d66ff9dec3c2dec8f4e172d0a29ee2a5094d43e7f6e56321ae1ab6a469ba0ea8774b0695af09d8cba2ffe991cbd7a444abe53c536fab94efbdf233e7c8995fd1b4b9acbedc46c4bfdf8678b349a9a0de43343e08a3ddebfc4b3861ce9c3c2f310ade19758eb28ec88bcc8d830cb9d4b949d641f7868ac0a33468d05888065a1093519ef831212506ba0c36291780514e350774843a861c98020c7682f42b463669584bbc45721844d07e678668a4b8414d877103575ceace3d7f72ee320429ffd2e6c05e0ec826cbfdf49369affbdfdd062af9c4baf23bae64e6db060388c9e778897c1d47d34095a6675c2a00c6e1741049dea12c082a7e718663063a6af6ea0417aa93bf5cce2e095bdd288dde6644f3b24012752a6d8aca8605afe3179d2c39e01bda9dcd6875b6b031e2d91a3c2050e3976402b47efe8fdbdb38958c7a8125f6fe7c98116c02e917568dab79403a8c0acb1e00bdf0aecd0c366bb4cb9586f3b2f13e4b419f122902a811fce7f5edcb2a91e053046b7357f2c29d690fc707fcc1a272c869425d647f87711c4707a7c880d68f0579828b35a83aaf75c86652e4d43d6a2b24ec6cd6dd01380819c06e78a0abd30156f5b3a313d1d5df6347767e7021a86935673bd2c4e2be04a369733489f696416f7d3157531fe6528624532e149b95a5a20e2d741cb018e6e67c17d00d3e84b1d456ea2904c745b67c77614f131cac90d5a6be8668640fd7338ee774bf9859e1ecce2dfd98edbbe9df6321d4151e850ec66cce7c2aed909a74a04b8353842b922eea8fbc80be80e1211351cc6c7c78e95960d16af6b6a4f2c7c76cf8c339b879115474ec0b7c8fc78e72d94c55902ad52f1642ecd2bf3d6f8ea285072e808e901bca2e20eaafae40383403c39964bc19a52b959218ac7935220a0b49216840d8a36c1309c752a69738607cab3c808ba3b12c9d34c2676e3fb63ba09c03955cd727f93f976a9b1e6a88e86cce6189767ebbd24c5c2e486d376c0636904dcbad4a67be3eb14182d4e668bbab7aa0701c69fcc08a17f33289202a5138474317eaac9251bbd6bf9f814ea9717352a9462454d6d3a93b10dd102f894f3bb984e9d6dc3a7a6ca2dec79e7695324d50d360fb4a277122cc8d36251cfa00dba884c6e99cf15f626fd07ca37511a3d3b2fe81eeb979c7f03f8bc4d10264c8ecb67f59fedbc162c2f9e689388e7b9d0a01e3e701bd0f2378cc3a3865cf5d01f9f0eb92230d565e1c025ee448817b3cb8e64d019248361758d1fc5f9f3ac643e055b455beede7b0a49be33347bd759038ac264c1ffb18347e0437dbe9d4a0c95c57b9ca69f59825704f011db21a92cd6c156a165713b770da0478849b8cd1cbc06662b32e9dec2a9e3633cadd69503e938aeaa3400e1c194cfb80aec67788a5750abbb1762f5c074557a0e37a1611c63946137dd0d78aef881ae915cd91b34354dd5effbadb193bb8f6decb7362954ccd661bb23203b97d9ac8b27d0ca344e372035afcfe4bac84a2853b718e4f002e3698f774c89e528519187f90e2fef53a6e6f42261a9d442468870803bdb80ba116667f2ec802a1d45d6b465693e5f07a1479d9b74fae55491dff3f1cb0f35aab9f10c540943a82ce4e25a199758500849160bd10b3aa5486b03b91f7647ae7fed8a09d09140413acb0b4bca5aec9ce574c3648c21fb6e6311e5b4450f014a9c01606cc9a0405b1e6c40651cfe4eb961f4faa7cf14aa514972af51e1cd4cd92564498d3d1c3903da11236ace882dc98fc4dbbecb22b670e1690151673a477fd63d9826d6b227dfa67410c90543fda4021af34857050abe5755854369339f7a860a01b844faa70ff059c349e16f0f6f9ae7804ef71bc615346f03e1a607bc4d72ef12177236e3f50e8c4f3ded64ba0dbb937876514cd3c5a16a2e5d93bd929fa1ebebb305b896cb52cdea2839f48d7435cc02c7feb65ea71fac1b7c36bddfee2978fcbc6bbd598375c35387c02c17d82e05e5e0ffb6b3a042c3f004e321dcb096126e31a3b0db65b563c24d64ea23546a7c496582b368973a7c0b47a2310faa4004345523b16d72424e1edc6af95eea1d07bca34650d1dc40f2d8bf158d2c87f33138e9a6b4c22ab5905651b04fdcfbf67ab7581fd466e7bffa0205a1e30a0af2e7abec8357b36df0aafe8dcef5cb433b531bf40eb829e829614a41a9b740c460c71da4f9883b7e7410fa0819c6e5d3739a4adbca001566f1d26b7a0f95900bd0a6c29875c3890b1418a8ef15a4efdf5ca4d0c7a0fd172117fb7c51edba4224306d928bd16700c3f9c89a5eb79c08784c4552b3a013caf055770e38703eb0d475cb51d5b5105b9624400728f53ac3aaa8f204a8ffca737ddaf2ba8c16e87cecb11c93f397f44f01571437976404a0b302c07177f0be6291462bcc53a243e72ea1983b4fadc8ff87b7f0a851168b0d5f69b156e5f9cede14b79a</script>
</div>
<script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>工作</tag>
      </tags>
  </entry>
  <entry>
    <title>常见Java面试题(二)</title>
    <url>/%E5%B8%B8%E8%A7%81Java%E9%9D%A2%E8%AF%95%E9%A2%98-%E4%BA%8C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="get和post请求的区别"><a href="#get和post请求的区别" class="headerlink" title="get和post请求的区别"></a>get和post请求的区别</h2><p>1.Get请求提交的数据会在地址栏显示出来，而post请求不会再地址栏显示出来.<br>2.传输数据的大小,Get请求由于浏览器对地址长度的限制而导致传输的数据有限制。而POST请求不会因为地址长度限制而导致传输数据限制。<br>3、安全性,POST的安全性要比GET的安全性高。由于数据是会在地址中呈现，所以可以通过历史记录找到密码等关键信息。</p>
<a id="more"></a>

<h2 id="forward-与redirect-的区别"><a href="#forward-与redirect-的区别" class="headerlink" title="forward()与redirect()的区别"></a>forward()与redirect()的区别</h2><p>1、forward是服务器端的转向而redirect是客户端的跳转。<br>2、使用forward浏览器的地址不会发生改变。而redirect会发生改变。<br>3、Forward是一次请求中完成。而redirect是重新发起请求。<br>4、Forward是在服务器端完成，而不用客户端重新发起请求，效率较高</p>
<h2 id="jsp有哪些内置对象-作用分别是什么"><a href="#jsp有哪些内置对象-作用分别是什么" class="headerlink" title="jsp有哪些内置对象?作用分别是什么"></a>jsp有哪些内置对象?作用分别是什么</h2><p>9个内置的对象：<br>1.request 用户端请求，此请求会包含来自GET/POST请求的参数<br>2.response 网页传回用户端的响应<br>3.pageContext 取得任何范围的参数, 通过它可以获取 JSP页面的out、request、reponse、session、application 等对象。<br>4.session 用于保存用户的信息<br>5.application 将信息保存在服务器中<br>6.out 用来输出<br>7.config 取得服务器配置信息<br>8.page  JSP网页本身<br>9.exception 显示异常信息<br>四大作用域：pageContext request session application 可以通过jstl从四大作用域中取值.<br>Jsp传递值:request session application cookie也能传值</p>
<h2 id="session和cookie的区别"><a href="#session和cookie的区别" class="headerlink" title="session和cookie的区别"></a>session和cookie的区别</h2><p>Session和cookie都是会话(Seesion)跟踪技术。Cookie通过在客户端记录信息确定用户身份，Session通过在服务器端记录信息确定用户身份。但是Session的实现依赖于Cookie,sessionId(session的唯一标识需要存放在客户端)<br>1、cookie数据存放在客户的浏览器上，session数据放在服务器上。<br>2、cookie不是很安全，别人可以分析存放在本地的cookie并进行cookie欺骗,考虑到安全应当使用session。<br>3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能,考虑到减轻服务器性能方面，应当使用cookie。<br>4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。</p>
<h2 id="关系数据库三范式"><a href="#关系数据库三范式" class="headerlink" title="关系数据库三范式"></a>关系数据库三范式</h2><p>要想满足第二范式必须先满足第一范式，要满足第三范式必须先满足第二范式。<br>1.第一范式（1NF）无重复的列<br>第一范式（1NF）是指数据库表的每一列都是不可分割的基本数据项，同一列中不能有多个值，即实体中的某个属性不能有多个值或者不能有重复的属性。列数据的不可分割<br>2.第二范式（2NF）属性完全依赖于主键(消除部分子函数依赖)<br>第二范式（2NF）要求数据库表中的每个行必须可以被唯一地区分。为实现区分通常需要为表加上一个列，以存储各个实例的唯一标识。(主键)<br>第二范式（2NF）要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字一部分的属性，如果存在，那么这个属性和主关键字的这一部分应该分离出来形成一个新的实体，新实体与原实体之间是一对多的关系。为实现区分通常需要为表加上一个列，以存储各个实例的唯一标识。简而言之，第二范式就是属性完全依赖于主键。<br>3.第三范式（3NF）属性不依赖于其它非主属性(消除传递依赖)<br>满足第三范式（3NF）必须先满足第二范式（2NF）。简而言之，第三范式（3NF）要求一个数据库表中不包含已在其它表中已包含的非主关键字信息。</p>
<h2 id="事务四个基本特征或ACID特性"><a href="#事务四个基本特征或ACID特性" class="headerlink" title="事务四个基本特征或ACID特性"></a>事务四个基本特征或ACID特性</h2><p>事务必须满足四大特征:原子性,一致性,隔离性,持久性<br>1.原子性：表示事务内操作不可分割。要么都成功、要么都是失败.<br>2.一致性：要么都成功、要么都是失败.失败了要对前面的操作进行回滚。<br>3.隔离性：一个事务开始后，不能受其他事务干扰。<br>4.持久性：事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即使系统崩溃，修改的数据也不会丢失。</p>
<h2 id="说一下你对JDBC的理解"><a href="#说一下你对JDBC的理解" class="headerlink" title="说一下你对JDBC的理解"></a>说一下你对JDBC的理解</h2><p>Java database connection java数据库连接.数据库管理系统(mysql oracle等)是很多，每个数据库管理系统支持的命令是不一样的。<br>Java只定义接口，让数据库厂商自己实现接口，对于我们者而言。只需要导入对应厂商开发的实现即可。然后以接口方式进行调用.(mysql + mysql驱动（实现）+JDBC)<br>jdbc是 java数据库连接技术的简称，由一组使用java语言编写的类与接口组来成，可以为多种关系数据库提供统一访问。<br>Sun公司提供了JDBC的接口示范 —— JDBC API ，而数据库厂商或第三方中间厂商根据该接口规范提供针对不同数据库的具体实现 —— JDBC 驱动</p>
<h2 id="写一个简单的JDBC的程序"><a href="#写一个简单的JDBC的程序" class="headerlink" title="写一个简单的JDBC的程序"></a>写一个简单的JDBC的程序</h2><p>注册驱动(com.mysql.jdbc.Driver,oracle.jdbc.driver.OracleDriver)<br>建立连接DriverManager.getConnection(url,username, password)<br>创建执行SQL的语句<br>执行语句   executeQuery executeUpdate<br>释放资源(是否连接要从小到大，必须放到finally</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Connection connection = <span class="keyword">null</span>;</span><br><span class="line">        PreparedStatement statement = <span class="keyword">null</span>;</span><br><span class="line">        ResultSet resultSet = <span class="keyword">null</span>;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">//加载数据库驱动</span></span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">//通过驱动管理类获取数据连接</span></span><br><span class="line">		connection=DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/test"</span>,<span class="string">"root"</span>,<span class="string">"123456"</span>);</span><br><span class="line">        <span class="comment">//定义SQL语句?示占位符</span></span><br><span class="line">        String sql = <span class="string">"select * from user where username = ?"</span>;</span><br><span class="line">        <span class="comment">//获取预处理的statement</span></span><br><span class="line">        statement = connection.prepareStatement(sql);</span><br><span class="line">        <span class="comment">//设置参数，第一个参数为sql语句中参数的序号（从1开始），第二个参数为设置的参数值</span></span><br><span class="line">        statement.setString(<span class="number">1</span>,<span class="string">"王五"</span>);</span><br><span class="line">        <span class="comment">//向数据库发出sql执行查询，查询出结果集</span></span><br><span class="line">        resultSet = statement.executeQuery();</span><br><span class="line">        <span class="comment">//遍历查询结果集</span></span><br><span class="line">        <span class="keyword">while</span>(resultSet.next())&#123;</span><br><span class="line">            System.out.println(resultSet.getString(<span class="string">"id"</span>)+<span class="string">" "</span>+resultSet.getString(<span class="string">"username"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//释放资源                    </span></span><br><span class="line">		resultSet.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="JDBC中的PreparedStatement相比Statement的好处"><a href="#JDBC中的PreparedStatement相比Statement的好处" class="headerlink" title="JDBC中的PreparedStatement相比Statement的好处"></a>JDBC中的PreparedStatement相比Statement的好处</h2><p>1.PreparedStatement是预编译的，比Statement速度快<br>2.代码的可读性和可维护性<br>虽然用PreparedStatement来代替Statement会使代码多出几行,但这样的代码无论从可读性还是可维护性上来说.都比直接用Statement的代码高很多档次：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stmt.executeUpdate(<span class="string">"insert into tb_name (col1,col2,col2,col4) values ('"</span>+var1+<span class="string">"','"</span>+var2+<span class="string">"',"</span>+var3+<span class="string">",'"</span>+var4+<span class="string">"')"</span>); </span><br><span class="line">perstmt = con.prepareStatement(<span class="string">"insert into tb_name (col1,col2,col2,col4) values (?,?,?,?)"</span>);</span><br><span class="line">perstmt.setString(<span class="number">1</span>,var1);</span><br><span class="line">perstmt.setString(<span class="number">2</span>,var2);</span><br><span class="line">perstmt.setString(<span class="number">3</span>,var3);</span><br><span class="line">perstmt.setString(<span class="number">4</span>,var4);</span><br><span class="line">perstmt.executeUpdate();</span><br></pre></td></tr></table></figure>
<p>3.安全性,PreparedStatement可以防止SQL注入攻击，而Statement却不能。</p>
<h2 id="MVC模式"><a href="#MVC模式" class="headerlink" title="MVC模式"></a>MVC模式</h2><p>MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。<br>最简单的、最经典就是Jsp(view) + Servlet(controller) + JavaBean(model)</p>
<h2 id="Spring中的两大核心"><a href="#Spring中的两大核心" class="headerlink" title="Spring中的两大核心"></a>Spring中的两大核心</h2><p>Spring是什么？<br>spring是J2EE应用程序框架，是轻量级的IoC和AOP的容器框架(相对于重量级的EJB)，主要是针对javaBean的生命周期进行管理的轻量级容器，可以和SpringMVC、Mybatis框架组合使用。<br>1、IOC(Inversion of Control )或DI(Dependency Injection)<br>IOC控制权反转<br>原来：Service需要调用DAO，Service就需要创建DAO<br>Spring:Spring发现你Service依赖于dao,就给你注入.<br>核心原理：就是配置文件+反射(工厂也可以)+容器(map)<br>2、AOP:面向切面编程<br>核心原理：使用动态代理的设计模式在执行方法前后或出现异常做加入相关逻辑。<br>我们主要使用AOP来做：<br>1、事务处理    执行方法前开启事务，执行完成后关闭事务，出现异常后回滚事务<br>2、权限判断    在执行方法前，判断是否具有权限<br>3、日志        在执行前进行日志处理</p>
<h2 id="SpringMVC工作流程"><a href="#SpringMVC工作流程" class="headerlink" title="SpringMVC工作流程"></a>SpringMVC工作流程</h2><p>1、用户发送请求至前端控制器DispatcherServlet。<br>​2、DispatcherServlet收到请求调用HandlerMapping处理器映射器。<br>​3、处理器映射器找到具体的处理器(可以根据xml配置、注解进行查找)，生成处理器对象及处理器拦截器(二者组成HandlerExecutionChain)一并返回给DispatcherServlet。<br>​4、DispatcherServlet调用HandlerAdapter处理器适配器。<br>​5、HandlerAdapter经过适配调用具体的处理器(Controller，也叫后端控制器)。<br>​6、Controller执行完成返回ModelAndView。<br>​7、HandlerAdapter将controller执行结果ModelAndView返回给DispatcherServlet。<br>​8、DispatcherServlet将ModelAndView传给ViewReslover视图解析器。<br>​9、ViewReslover解析后返回具体View，这个view不是完整的，仅仅是一个页面（视图）名字，且没有后缀名。<br>​10、DispatcherServlet根据View进行渲染视图（即将模型数据填充至视图中）。<br>​11、DispatcherServlet响应用户。</p>
<h2 id="Spring的事务传播特性"><a href="#Spring的事务传播特性" class="headerlink" title="Spring的事务传播特性"></a>Spring的事务传播特性</h2><ol>
<li>PROPAGATION_REQUIRED: 如果存在一个事务，则支持当前事务。如果没有事务则开启</li>
<li>PROPAGATION_SUPPORTS: 如果存在一个事务，支持当前事务。如果没有事务，则非事务的执行</li>
<li>PROPAGATION_MANDATORY: 如果已经存在一个事务，支持当前事务。如果没有一个活动的事务，则抛出异常。</li>
<li>PROPAGATION_REQUIRES_NEW: 总是开启一个新的事务。如果一个事务已经存在，则将这个存在的事务挂起。</li>
<li>PROPAGATION_NOT_SUPPORTED: 总是非事务地执行，并挂起任何存在的事务。</li>
<li>PROPAGATION_NEVER: 总是非事务地执行，如果存在一个活动事务，则抛出异常</li>
<li>PROPAGATION_NESTED：如果一个活动的事务存在，则运行在一个嵌套的事务中. 如果没有活动事务, 则按TransactionDefinition.PROPAGATION_REQUIRED 属性执行</li>
</ol>
<p>Required 需要 如果存在一个事务，则支持当前事务。如果没有事务则开启<br>Supports 支持 如果存在一个事务，支持当前事务。如果没有事务，则非事务的执行<br>Mandatory 必要的 如果已经存在一个事务，支持当前事务。如果没有一个活动的事务，则抛出异常。<br>required_new 总是开启一个新的事务。如果一个事务已经存在，则将这个存在的事务挂起。<br>Not_support 总是非事务地执行，并挂起任何存在的事务。<br>Never 绝不 总是非事务地执行，如果存在一个活动事务，则抛出异常<br>Nested 嵌套的 如果有就嵌套、没有就开启事务</p>
<h2 id="数据库优化"><a href="#数据库优化" class="headerlink" title="数据库优化"></a>数据库优化</h2><p>定位：查找、定位慢查询<br>优化手段：<br>a)创建索引：创建合适的索引，我们就可以现在索引中查询，查询到以后直接找对应的记录。<br>b)分表：当一张表的数据比较多或者一张表的某些字段的值比较多并且很少使用时，采用水平分表和垂直分表来优化<br>c)读写分离：当一台服务器不能满足需求时，采用读写分离的方式进行集群。<br>d)缓存：使用redis来进行缓存</p>
<h2 id="Redis数据淘汰机制"><a href="#Redis数据淘汰机制" class="headerlink" title="Redis数据淘汰机制"></a>Redis数据淘汰机制</h2><p>redis 提供 6种数据淘汰策略：<br>volatile-lru：从已设置过期时间的数据集（server.db[i].expires）中挑选最近最少使用的数据淘汰<br>volatile-ttl：从已设置过期时间的数据集（server.db[i].expires）中挑选将要过期的数据淘汰<br>volatile-random：从已设置过期时间的数据集（server.db[i].expires）中任意选择数据淘汰<br>allkeys-lru：从数据集（server.db[i].dict）中挑选最近最少使用的数据淘汰<br>allkeys-random：从数据集（server.db[i].dict）中任意选择数据淘汰<br>no-enviction（驱逐）：禁止驱逐数据</p>
<h2 id="抽象类和接口的区别"><a href="#抽象类和接口的区别" class="headerlink" title="抽象类和接口的区别"></a>抽象类和接口的区别</h2><p>两者的区别:<br>1.抽象类可以有构造方法，接口中不能有构造方法。<br>2.抽象类中可以有普通成员变量，接口中没有普通成员变量。<br>3.抽象类中可以包含非抽象普通方法，接口中的所有方法必须都是抽象的，不能有非抽象的方法。<br>4.抽象类中的抽象方法的访问权限可以是public、protected 和(默认类型，虽然eclipse不报错，但也不能用，默认类型子类不能继承)，接口中的抽象方法只能是public类型的，并且默认即为public abstract类型。<br>5.抽象类中可以包含静态方法，在 JDK1.8 之前接口中不能不包含静态方法，JDK1.8 以后可以包含。<br>6.抽象类和接口中都可以包含静态成员变量，抽象类中的静态成员变量的访问权限可以是任意的，但接口中定义的变量只能是 public static final 类型的，并且默认即为public static final类型。<br>7.一个类可以实现多个接口，用逗号隔开，但只能继承一个抽象类，接口不可以实现接口，但可以继承接口，并且可以继承多个接口，用逗号隔开。</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>问题</tag>
      </tags>
  </entry>
  <entry>
    <title>常见Java面试题(一)</title>
    <url>/%E5%B8%B8%E8%A7%81Java%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="面向对象的特征有哪些"><a href="#面向对象的特征有哪些" class="headerlink" title="面向对象的特征有哪些"></a>面向对象的特征有哪些</h2><p>面向对象有四大基本特征:封装、抽象、继承、多态</p>
<h3 id="抽象"><a href="#抽象" class="headerlink" title="抽象"></a>抽象</h3><p>抽象就是找出一些事物的相似和共性之处，然后将这些事物归为一个类。 就是把现实生活中的对象，抽象为类。</p>
<a id="more"></a>
<h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p>封装就是将对象封装成一个高度自治和相对封闭的个体，对象属性由这个对象自己的方法来读取和改变。<br>如：一个人，他的姓名等属性，要有自己提供的get和set的方法来操作。private naame setName getNme </p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>在定义和实现一个类的时候，可以在一个已经存在的类的基础之上来进行，把这个已经存在的类所定义的内容作为自己的内容，并可以加入若干新的内容，或修改原来的方法使之更适合特殊的需要，这就是继承。</p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>多态是指程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，即一个引用变量倒底会指向哪个类的实例对象，该引用变量发出的方法调用到底是哪个类中实现的方法，必须在由程序运行期间才能决定。接口的多种不同的实现方式就是多态。</p>
<h2 id="有了基本数据类型，为什么还需要包装类型"><a href="#有了基本数据类型，为什么还需要包装类型" class="headerlink" title="有了基本数据类型，为什么还需要包装类型"></a>有了基本数据类型，为什么还需要包装类型</h2><p>Java是一个面相对象的编程语言，而基本数据类型并不具有对象的性质，为了让基本类型也具有对象的特征，就出现了包装类型，它相当于将基本类型“包装起来”，使得它具有了对象的性质，并且为其添加了属性和方法，丰富了基本类型的操作。</p>
<h2 id="“-”和equals有什么区别"><a href="#“-”和equals有什么区别" class="headerlink" title="“==”和equals有什么区别"></a>“==”和equals有什么区别</h2><p>首先数据的表示有基本类型和引用类型。<br>==   基本类型比较值是否相同<br>　　 引用类型比较的是地址是否相同<br>equals()<br>　　只能比较引用类型，默认情况下比较的是地址值是否相同。<br>    但在一些类中重写了这个方法，如包装类,String,Date等，equals()比较的是两个变量的值。</p>
<h2 id="String、StringBuilder、StringBuffer的区别"><a href="#String、StringBuilder、StringBuffer的区别" class="headerlink" title="String、StringBuilder、StringBuffer的区别"></a>String、StringBuilder、StringBuffer的区别</h2><p>1.String是内容不可变的字符串。String底层使用了一个不可变的字符数组(final char[])<br>而StringBuillder StringBuffer,是内容可以改变的字符串。StringBuillder StringBuffer底层使用的可变的字符数组（没有使用final来修饰）<br>2.最经典就是拼接字符串。<br>String进行拼接.<code>String str = &quot;a&quot; + &quot;b&quot;;</code><br>StringBuilder或者StringBuffer<br><code>StringBuilder sb = new StringBuilder(); sb.apend(&quot;a&quot;).apend(&quot;b&quot;)</code><br>拼接字符串不能使用String进行拼接，要使用StringBuilder或者StringBuffer<br>3.StringBuilder是线程不安全的，效率较高.而StringBuffer是线程安全的，效率较低。</p>
<h2 id="Java中的集合"><a href="#Java中的集合" class="headerlink" title="Java中的集合"></a>Java中的集合</h2><p>Java中的集合分为value，key–vale(Conllection Map)两种。<br>存储值的有List和Set<br>List是有序的，可以重复的。<br>Set是无序的，不可以重复的。根据equals和hashcode判断，也就是如果一个对象要存储在Set中，必须重写equals和hashCode方法。<br>存储key-value的有map.</p>
<h2 id="ArrayList和LinkedList的区别"><a href="#ArrayList和LinkedList的区别" class="headerlink" title="ArrayList和LinkedList的区别"></a>ArrayList和LinkedList的区别</h2><p>ArrayList底层使用时数组。LinkedList使用的是链表<br>数组查询具有查询特定元素比较快。而插入、删除和修改比较慢(数组在内存中是一块连续的内存，如果插入或删除是需要移动内存)。 链表不要求内存是连续的，在当前元素中存放下一个或上一个元素的地址。查询时需要从头部开始，一个一个的找。所以查询效率低。插入时不需要移动内存，只需改变引用指向即可。所以插入或者删除的效率高。<br>ArrayList使用在查询比较多，但是插入和删除比较少的情况，而LinkedList使用在查询比较少而插入和删除比较多的情况。</p>
<h2 id="HashMap、HashTable、ConcurrentHashMap的区别"><a href="#HashMap、HashTable、ConcurrentHashMap的区别" class="headerlink" title="HashMap、HashTable、ConcurrentHashMap的区别"></a>HashMap、HashTable、ConcurrentHashMap的区别</h2><p>HashMap的实现原理<br>HashMap实际上是一个“链表散列”的数据结构，即数组和链表的结合体. HashMap 在底层将 key-value 当成一个整体进行处理，这个整体就是一个 Entry 对象。HashMap 底层采用一个 Entry[] 数组来保存所有的 key-value 对，当需要存储一个 Entry 对象时，会根据 hash 算法来决定其在数组中的存储位置，在根据 equals 方法决定其在该数组位置上的链表中的存储位置；当需要取出一个Entry 时，也会根据 hash 算法找到其在数组中的存储位置，再根据 equals 方法从该位置上的链表中取出该Entry。<br>相同点：HashMap和HasheTalbe都可以使用来存储key–value的数据。<br>区别：<br>1、HashMap是可以把null作为key或者value的，而HashTable是不可以的。<br>2、HashMap是线程不安全的，效率较高。而HashTalbe是线程安全的，效率较低。<br>ConcurrentHashMap通过把整个Map分为N个Segment（类似HashTable），可以提供相同的线程安全，但是效率提升。</p>
<h2 id="哈希冲突怎么解决"><a href="#哈希冲突怎么解决" class="headerlink" title="哈希冲突怎么解决"></a>哈希冲突怎么解决</h2><p>开放定址法<br>这种方法也称再散列法，其基本思想是：当关键字key的哈希地址p=H（key）出现冲突时，以p为基础，产生另一个哈希地址p1，如果p1仍然冲突，再以p为基础，产生另一个哈希地址p2，…，直到找出一个不冲突的哈希地址pi ，将相应元素存入其中。</p>
<h2 id="Java线程的6种状态"><a href="#Java线程的6种状态" class="headerlink" title="Java线程的6种状态"></a>Java线程的6种状态</h2><ol>
<li>初始(NEW)：新创建了一个线程对象，但还没有调用start()方法。</li>
<li>运行(RUNNABLE)：Java线程中将就绪（ready）和运行中（running）两种状态笼统的称为“运行”。<br>线程对象创建后，其他线程(比如main线程）调用了该对象的start()方法。该状态的线程位于可运行线程池中，等待被线程调度选中，获取CPU的使用权，此时处于就绪状态（ready）。就绪状态的线程在获得CPU时间片后变为运行中状态（running）。</li>
<li>阻塞(BLOCKED)：表示线程阻塞于锁。</li>
<li>等待(WAITING)：进入该状态的线程需要等待其他线程做出一些特定动作（通知或中断）。</li>
<li>超时等待(TIMED_WAITING)：该状态不同于WAITING，它可以在指定的时间后自行返回。</li>
<li>终止(TERMINATED)：表示该线程已经执行完毕。</li>
</ol>
<h2 id="线程池参数详解"><a href="#线程池参数详解" class="headerlink" title="线程池参数详解"></a>线程池参数详解</h2><p>corePoolSize：核心线程池数量<br>在线程数少于核心数量时，有新任务进来就新建一个线程，即使有的线程没事干<br>等超出核心数量后，就不会新建线程了，空闲的线程就得去任务队列里取任务执行了<br>maximumPoolSize：最大线程数量<br>包括核心线程池数量 + 核心以外的数量<br>如果任务队列满了，并且池中线程数小于最大线程数，会再创建新的线程执行任务<br>keepAliveTime：线程超时时间。<br>如果给线程池设置 allowCoreThreadTimeOut(true)，则核心线程在空闲时头上也会响起死亡的倒计时<br>如果任务是多而容易执行的，可以调大这个参数，那样线程就可以在存活的时间里有更大可能接受新任务<br>workQueue：任务队列<br>不同的任务类型有不同的选择，下一小节介绍<br>threadFactory：线程工厂。线程池利用该工厂创建线程。<br>可以给线程起个好听的名字，设置个优先级啥的<br>handler：线程任务拒绝策略<br>CallerRunsPolicy：只要线程池没关闭，就直接用调用者所在线程来运行任务<br>AbortPolicy：直接抛出 RejectedExecutionException 异常<br>DiscardPolicy：悄悄把任务放生，不做了<br>DiscardOldestPolicy：把队列里待最久的那个任务扔了，然后再调用 execute() 试试看能行不<br>我们也可以实现自己的 RejectedExecutionHandler 接口自定义策略，比如如记录日志什么的</p>
<h2 id="线程的几种实现方式"><a href="#线程的几种实现方式" class="headerlink" title="线程的几种实现方式"></a>线程的几种实现方式</h2><p>1、通过继承Thread（斯ruai德）类实现一个线程<br>2、通过实现Runnable接口实现一个线程<br>   继承扩展性不强，java总只支持单继承，如果一个类继承Thread就不能继承其他的类了。</p>
<h2 id="线程池的作用"><a href="#线程池的作用" class="headerlink" title="线程池的作用"></a>线程池的作用</h2><p>1、限定线程的个数，不会导致由于线程过多导致系统运行缓慢或崩溃<br>2、线程池不需要每次都去创建或销毁，节约了资源、<br>3、线程池不需要每次都去创建，响应时间更快。</p>
<h2 id="常用的设计模式有哪些"><a href="#常用的设计模式有哪些" class="headerlink" title="常用的设计模式有哪些"></a>常用的设计模式有哪些</h2><p>单例(懒汉模式、饿汉模式)<br>1、构造方法私有化，除了自己类中能创建外其他地方都不能创建<br>2、在自己的类中创建一个单实例（饿汉模式是类加载就创建单实例，而懒汉模式是第一次被使用的时候才创建）<br>3、提供一个方法获取该实例对象(创建时需要进行方法同步)<br>工厂模式:Spring IOC就是使用了工厂模式.对象的创建交给一个工厂去创建。<br>代理模式:Spring AOP就是使用的动态代理。</p>
<h2 id="Synchronized修饰静态方法和非静态方法有什么区别"><a href="#Synchronized修饰静态方法和非静态方法有什么区别" class="headerlink" title="Synchronized修饰静态方法和非静态方法有什么区别"></a>Synchronized修饰静态方法和非静态方法有什么区别</h2><p>修饰非静态方法，实际上是对调用该方法的对象加锁，俗称“对象锁”。<br>修饰静态方法，实际上是对该类对象加锁，俗称“类锁”。</p>
<h2 id="Synchronized和ReentrantLock的区别"><a href="#Synchronized和ReentrantLock的区别" class="headerlink" title="Synchronized和ReentrantLock的区别"></a>Synchronized和ReentrantLock的区别</h2><p>两者的共同点：<br>可重入，同一线程可以多次获得同一个锁<br>两者的不同点：<br>ReentrantLock手动开启、释放锁，synchronized隐式开启释放锁<br>ReentrantLock可响应中断、可轮回，synchronized是不可以响应中断的，为处理锁的不可用性提供了更高的灵活性<br>ReentrantLock 依赖于 API，而synchronized依赖于JVM<br>ReentrantLock可以实现公平锁<br>ReentrantLock通过Condition可以绑定多个条件</p>
<h2 id="Java多线程公平锁与非公平锁"><a href="#Java多线程公平锁与非公平锁" class="headerlink" title="Java多线程公平锁与非公平锁"></a>Java多线程公平锁与非公平锁</h2><p>公平锁：加锁前检查是否有排队等待的线程，优先排队等待的线程，先来先得<br>非公平锁：加锁时不考虑排队等待问题，直接尝试获取锁，获取不到自动到队尾等待</p>
<h2 id="Java可重入锁与不可重入锁"><a href="#Java可重入锁与不可重入锁" class="headerlink" title="Java可重入锁与不可重入锁"></a>Java可重入锁与不可重入锁</h2><p>所谓重入锁，指的是以线程为单位，当一个线程获取对象锁之后，这个线程可以再次获取本对象上的锁</p>
<h2 id="乐观锁与悲观锁"><a href="#乐观锁与悲观锁" class="headerlink" title="乐观锁与悲观锁"></a>乐观锁与悲观锁</h2><p>悲观锁：总是假设最坏的情况，每次去拿数据的时候都认为别人会修改，所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会阻塞直到它拿到锁<br>乐观锁：总是假设最好的情况，每次去拿数据的时候都认为别人不会修改，所以不会上锁，但是在更新的时候会判断一下在此期间别人有没有去更新这个数据。</p>
<h2 id="数据库事务隔离级别"><a href="#数据库事务隔离级别" class="headerlink" title="数据库事务隔离级别"></a>数据库事务隔离级别</h2><table>
<thead>
<tr>
<th align="center">隔离级别</th>
<th align="center">脏读</th>
<th align="center">不可重复读</th>
<th align="center">幻读</th>
</tr>
</thead>
<tbody><tr>
<td align="center">读未提交</td>
<td align="center">可能</td>
<td align="center">可能</td>
<td align="center">可能</td>
</tr>
<tr>
<td align="center">读已提交</td>
<td align="center">不可能</td>
<td align="center">可能</td>
<td align="center">可能</td>
</tr>
<tr>
<td align="center">可重复读</td>
<td align="center">不可能</td>
<td align="center">不可能</td>
<td align="center">可能</td>
</tr>
<tr>
<td align="center">可串行化</td>
<td align="center">不可能</td>
<td align="center">不可能</td>
<td align="center">不可能</td>
</tr>
</tbody></table>
<p>读未提交：允许脏读，也就是可能读取到其他会话中未提交事务修改的数据<br>读已提交：只能读取到已经提交的数据。Oracle等多数数据库默认都是该级别 (不重复读)<br>可重复读：可重复读。在同一个事务内的查询都是事务开始时刻一致的，InnoDB默认级别。在SQL标准中，该隔离级别消除了不可重复读，但是还存在幻象读<br>串行读：完全串行化的读，每次读都需要获得表级共享锁，读写相互都会阻塞</p>
<p>1.脏读: 脏读就是指当一个事务正在访问数据，并且对数据进行了修改，而这种修改还没有提交到数据库中，这时，另外一个事务也访问这个数据，然后使用了这个数据。<br>2.不可重复读:是指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的的数据可能是不一样的。这样就发生了在一个事务内两次读到的数据是不一样的，因此称为是不可重复读<br>3.幻读:第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好象发生了幻觉一样。</p>
<h2 id="MySQL索引类型"><a href="#MySQL索引类型" class="headerlink" title="MySQL索引类型"></a>MySQL索引类型</h2><p> B+Tree、哈希索引、R-Tree、全文索引</p>
<h2 id="B-Tree相对于B-Tree有几点不同"><a href="#B-Tree相对于B-Tree有几点不同" class="headerlink" title="B+Tree相对于B-Tree有几点不同"></a>B+Tree相对于B-Tree有几点不同</h2><p>1.非叶子节点是叶子节点的索引<br>2.要存储的数据都存放在叶子节点中<br>3.叶子节点之间都有一个链指针，不需要遍历整棵树就可以得到所存储的全部数据</p>
<h2 id="MySQL执行引擎有哪些"><a href="#MySQL执行引擎有哪些" class="headerlink" title="MySQL执行引擎有哪些"></a>MySQL执行引擎有哪些</h2><p>InnoDB、MyIsam</p>
<h2 id="MyISAM-和-INNODB的区别"><a href="#MyISAM-和-INNODB的区别" class="headerlink" title="MyISAM 和 INNODB的区别"></a>MyISAM 和 INNODB的区别</h2><ol>
<li>事务安全 myisam不支持事务而innodb支持</li>
<li>查询和添加速度 myisam不用支持事务就不用考虑同步锁，查找和添加和添加的速度快</li>
<li>支持全文索引 myisam支持innodb不支持</li>
<li>锁机制 myisam支持表锁而innodb支持行锁(事务)</li>
<li>外键MyISAM不支持外键，INNODB支持外键. (通常不设置外键，通常是在程序中保证数据的一致)</li>
</ol>
<h2 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a>缓存穿透</h2><p>缓存穿透是指查询一个一定不存在的数据，由于缓存是不命中时被动写的，并且出于容错考虑，如果从存储层查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到存储层去查询，失去了缓存的意义。在流量大时，可能DB就挂掉了，要是有人利用不存在的key频繁攻击我们的应用，这就是漏洞。</p>
<h2 id="排序算法有那些"><a href="#排序算法有那些" class="headerlink" title="排序算法有那些"></a>排序算法有那些</h2><p>选择排序、插入排序、冒泡排序、希尔排序、归并排序、快速排序、堆排序、基数排序、桶排序</p>
<h2 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h2><p>200 - 请求成功<br>301 - 资源（网页等）被永久转移到其它URL<br>302 - 重定向<br>404 - 请求的资源（网页等）不存在<br>500 - 内部服务器错误</p>
<h2 id="Session的两种实现方式"><a href="#Session的两种实现方式" class="headerlink" title="Session的两种实现方式"></a>Session的两种实现方式</h2><p>1.通过cookie<br>创建Session的时候，服务器将生成一个唯一的sessionid然后用它生成一个关闭浏览器就会失效的cookie。<br>2.url重写<br>通过cookie可以很好地实现session，但是如果客户端由于某些原因（比如出于安全考虑）而禁用cookie，在这种情况之下，为了使session能够继续生效，可以采用url重写。</p>
<h2 id="如何解决负载均衡之后的session共享问题"><a href="#如何解决负载均衡之后的session共享问题" class="headerlink" title="如何解决负载均衡之后的session共享问题"></a>如何解决负载均衡之后的session共享问题</h2><p>1.不使用session，换作cookie<br>2.数据库记录下session信息<br>4.对session文件进行同步。</p>
<h2 id="Mybatis一级缓存、二级缓存"><a href="#Mybatis一级缓存、二级缓存" class="headerlink" title="Mybatis一级缓存、二级缓存"></a>Mybatis一级缓存、二级缓存</h2><p>一级缓存是SqlSession级别的缓存，放在session里面，在对象中有一个数据结构（HashMap）用于存储缓存数据。<br>二级缓存是mapper级别的缓存，放在它的命名空间里</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>问题</tag>
      </tags>
  </entry>
  <entry>
    <title>Centeos7 Docker 打开zookeeper查看入驻服务信息</title>
    <url>/Centeos7-Docker-%E6%89%93%E5%BC%80zookeeper%E6%9F%A5%E7%9C%8B%E5%85%A5%E9%A9%BB%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-启动Docker"><a href="#1-启动Docker" class="headerlink" title="1.启动Docker"></a>1.启动Docker</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo systemctl start docker</span><br></pre></td></tr></table></figure>
<h2 id="2-查看zookeeper进程"><a href="#2-查看zookeeper进程" class="headerlink" title="2.查看zookeeper进程"></a>2.查看zookeeper进程</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p><img src="/Centeos7-Docker-%E6%89%93%E5%BC%80zookeeper%E6%9F%A5%E7%9C%8B%E5%85%A5%E9%A9%BB%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF/viewProgress.JPG" alt="查看zookeeper进程"></p>
<h2 id="3-进入zkCli-sh"><a href="#3-进入zkCli-sh" class="headerlink" title="3.进入zkCli.sh"></a>3.进入zkCli.sh</h2><p>依次输入以下命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">docker exec -it abdc037e339e &#x2F;bin&#x2F;bash</span><br><span class="line">ls</span><br><span class="line">cd bin</span><br><span class="line">ls</span><br><span class="line">.&#x2F;zkCli.sh</span><br></pre></td></tr></table></figure>
<p><img src="/Centeos7-Docker-%E6%89%93%E5%BC%80zookeeper%E6%9F%A5%E7%9C%8B%E5%85%A5%E9%A9%BB%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF/enter.JPG" alt="进入zkCli.sh"></p>
<h2 id="4-服务注册之后ls-会出现services"><a href="#4-服务注册之后ls-会出现services" class="headerlink" title="4.服务注册之后ls /会出现services"></a>4.服务注册之后ls /会出现services</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls &#x2F;</span><br></pre></td></tr></table></figure>
<p><img src="/Centeos7-Docker-%E6%89%93%E5%BC%80zookeeper%E6%9F%A5%E7%9C%8B%E5%85%A5%E9%A9%BB%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF/ls.JPG" alt="服务注册之后ls"></p>
<h2 id="5-列出services所有服务"><a href="#5-列出services所有服务" class="headerlink" title="5.列出services所有服务"></a>5.列出services所有服务</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ls &#x2F;services</span><br></pre></td></tr></table></figure>
<p><img src="/Centeos7-Docker-%E6%89%93%E5%BC%80zookeeper%E6%9F%A5%E7%9C%8B%E5%85%A5%E9%A9%BB%E6%9C%8D%E5%8A%A1%E4%BF%A1%E6%81%AF/services.JPG" alt="列出services所有服务"></p>
<h2 id="6-退出zkCli-sh"><a href="#6-退出zkCli-sh" class="headerlink" title="6.退出zkCli.sh"></a>6.退出zkCli.sh</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure>
<p>以上就是Centeos7 Docker 打开zookeeper查看入驻服务信息的流程</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Docker</tag>
        <tag>Zookeeper</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring Boot使用阿里云OSS实现图片上传</title>
    <url>/Spring-Boot%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91OSS%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-在Maven项目中加入依赖项"><a href="#1-在Maven项目中加入依赖项" class="headerlink" title="1.在Maven项目中加入依赖项"></a>1.在Maven项目中加入依赖项</h2><figure class="highlight"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.aliyun.oss&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aliyun-sdk-oss&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.8.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h2 id="2-获取AccessKey"><a href="#2-获取AccessKey" class="headerlink" title="2.获取AccessKey"></a>2.获取AccessKey</h2><p>登录阿里云，在个人头像下面有一个AccessKey管理选项，点击进入创建一个AccessKey</p>
<a id="more"></a>
<p><img src="/Spring-Boot%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91OSS%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0/AccessKey.JPG" alt="创建AccessKey"></p>
<h2 id="3-创建一个Bucket"><a href="#3-创建一个Bucket" class="headerlink" title="3.创建一个Bucket"></a>3.创建一个Bucket</h2><p>在阿里云的对象存储创建一个Bucket</p>
<h2 id="4-编写上传类"><a href="#4-编写上传类" class="headerlink" title="4.编写上传类"></a>4.编写上传类</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AliyunProvider</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">""</span>)</span><br><span class="line">    <span class="keyword">private</span> String AccessKeyID;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">""</span>)</span><br><span class="line">    <span class="keyword">private</span> String AccessKeySecret;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">upload</span><span class="params">(InputStream fileStream, String fileName)</span></span>&#123; <span class="comment">//fileStream:文件流 fileName:文件名</span></span><br><span class="line">        String endpoint = <span class="string">""</span>; <span class="comment">//根据自己的地域填写</span></span><br><span class="line">        String accessKeyId = AccessKeyID;</span><br><span class="line">        String accessKeySecret = AccessKeySecret;</span><br><span class="line">        String bucketName = <span class="string">""</span>; <span class="comment">//根据自己的bucketName填写</span></span><br><span class="line">		<span class="comment">//随机生成文件名</span></span><br><span class="line">        String generatedFileName = <span class="string">""</span>;</span><br><span class="line">        String[] filePaths = fileName.split(<span class="string">"\\."</span>);</span><br><span class="line">        <span class="keyword">if</span> (filePaths.length &gt; <span class="number">1</span>)&#123;</span><br><span class="line">            generatedFileName = UUID.randomUUID().toString() + <span class="string">"."</span> + filePaths[filePaths.length - <span class="number">1</span>];</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建OSSClient实例。</span></span><br><span class="line">        OSS ossClient = <span class="keyword">new</span> OSSClientBuilder().build(endpoint, accessKeyId, accessKeySecret);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 创建存储空间。</span></span><br><span class="line">        ossClient.createBucket(bucketName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 上传文件流。</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ossClient.putObject(bucketName, generatedFileName, fileStream);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 关闭OSSClient。</span></span><br><span class="line">        ossClient.shutdown();</span><br><span class="line">        <span class="keyword">return</span> generatedFileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上，就是阿里云OSS实现图片上传的流程</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>OSS</tag>
        <tag>Spring Boot</tag>
      </tags>
  </entry>
  <entry>
    <title>调用Gitee/Github API实现第三方登录流程</title>
    <url>/%E8%B0%83%E7%94%A8Gitee-Github-API%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-创建一个Gitee-Github第三方应用"><a href="#1-创建一个Gitee-Github第三方应用" class="headerlink" title="1.创建一个Gitee/Github第三方应用"></a>1.创建一个Gitee/Github第三方应用</h2><p>这里以Gitee为例<br><img src="/%E8%B0%83%E7%94%A8Gitee-Github-API%E5%AE%9E%E7%8E%B0%E7%AC%AC%E4%B8%89%E6%96%B9%E7%99%BB%E5%BD%95%E6%B5%81%E7%A8%8B/NewGiteeOAuthApp.JPG" alt="创建Gitee第三方应用"></p>
<h2 id="2-新建两个java类用来储存获取的Gitee-Github用户信息和获取token所需的参数"><a href="#2-新建两个java类用来储存获取的Gitee-Github用户信息和获取token所需的参数" class="headerlink" title="2.新建两个java类用来储存获取的Gitee/Github用户信息和获取token所需的参数"></a>2.新建两个java类用来储存获取的Gitee/Github用户信息和获取token所需的参数</h2><p>储存Github/Gitee用户信息类，生成get/set方法，我这里为了省空间就不写了</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class GithubUser &#123;</span><br><span class="line">    private String name; &#x2F;&#x2F;用户名称</span><br><span class="line">    private String id;	&#x2F;&#x2F;用户ID</span><br><span class="line">    private String bio; &#x2F;&#x2F;用户描述</span><br><span class="line">    private String avatar_url; &#x2F;&#x2F;用户头像地址</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>储存获取token所需的参数类，生成get/set方法。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public class AccessTokenDTO &#123;</span><br><span class="line">    private String client_id;		&#x2F;&#x2F;client_id</span><br><span class="line">    private String client_secret;	&#x2F;&#x2F;client_secret</span><br><span class="line">    private String code;			&#x2F;&#x2F;code码</span><br><span class="line">    private String redirect_uri;	&#x2F;&#x2F;回调地址</span><br><span class="line">    &#x2F;&#x2F;private String state;			&#x2F;&#x2F;Github需要这个参数，Gitee不需要</span><br><span class="line">    private String grant_type;		&#x2F;&#x2F;Github不需要这个参数，Gitee需要</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-导入两个包，方便后续使用"><a href="#3-导入两个包，方便后续使用" class="headerlink" title="3.导入两个包，方便后续使用"></a>3.导入两个包，方便后续使用</h2><p>在pom文件中导入两个包</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 方便发送get&#x2F;post请求 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.squareup.okhttp3&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;okhttp&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.14.1&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- json和String类型快速转换 --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;fastjson&lt;&#x2F;artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.2.57&lt;&#x2F;version&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure>
<h2 id="4-获取用户信息"><a href="#4-获取用户信息" class="headerlink" title="4.获取用户信息"></a>4.获取用户信息</h2><h3 id="4-1-在需要登录的位置添加链接"><a href="#4-1-在需要登录的位置添加链接" class="headerlink" title="4.1 在需要登录的位置添加链接"></a>4.1 在需要登录的位置添加链接</h3><p>Github地址<code>https://github.com/login/oauth/authorize?client_id=创建应用给的id&amp;redirect_uri=回调地址&amp;scope=user&amp;state=1</code><br>Gitee地址<code>https://gitee.com/oauth/authorize?client_id=创建应用给的id&amp;redirect_uri=回调地址&amp;response_type=code</code></p>
<h3 id="4-2-新建一个控制器类"><a href="#4-2-新建一个控制器类" class="headerlink" title="4.2 新建一个控制器类"></a>4.2 新建一个控制器类</h3><p>发送Git请求获取code码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">	@Autowired</span><br><span class="line">    private GithubProvider githubProvider;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private AuthorizeService authorizeService;</span><br><span class="line"></span><br><span class="line">    @Value(&quot;你的clientId&quot;)</span><br><span class="line">    private String clientId;</span><br><span class="line"></span><br><span class="line">    @Value(&quot;你的clientSecret&quot;)</span><br><span class="line">    private String clientSecret;</span><br><span class="line"></span><br><span class="line">    @Value(&quot;你的回调地址&quot;)</span><br><span class="line">    private String redirectUri;</span><br><span class="line"></span><br><span class="line">@GetMapping(&quot;&#x2F;callback&quot;)</span><br><span class="line">    public String callback(@RequestParam(name &#x3D; &quot;code&quot;) String code,</span><br><span class="line">                           HttpServletResponse response)&#123;&#x2F;&#x2F;@RequestParam(name &#x3D; &quot;state&quot;) String state, Github需要这个参数</span><br><span class="line">        AccessTokenDTO accessTokenDTO &#x3D; new AccessTokenDTO();</span><br><span class="line">        accessTokenDTO.setClient_id(clientId);</span><br><span class="line">        accessTokenDTO.setClient_secret(clientSecret);</span><br><span class="line">        accessTokenDTO.setCode(code);</span><br><span class="line">        accessTokenDTO.setRedirect_uri(redirectUri);</span><br><span class="line">        accessTokenDTO.setGrant_type(&quot;authorization_code&quot;);&#x2F;&#x2F;Gitee需要这个参数</span><br><span class="line">        &#x2F;&#x2F;accessTokenDTO.setState(state); &#x2F;&#x2F;Github需要这个参数</span><br><span class="line">        String accessToken &#x3D; githubProvider.getAccessToken(accessTokenDTO);&#x2F;&#x2F;获取token方法</span><br><span class="line">        GithubUser githubUser &#x3D; githubProvider.getUser(accessToken);	&#x2F;&#x2F;获取User信息方法</span><br><span class="line">        if (githubUser !&#x3D; null &amp;&amp; githubUser.getId() !&#x3D; null)&#123;			&#x2F;&#x2F;如果不为空，插入数据库</span><br><span class="line">            User user &#x3D; new User();</span><br><span class="line">            String token &#x3D; UUID.randomUUID().toString();</span><br><span class="line">            user.setName(githubUser.getName());</span><br><span class="line">            user.setToken(token);</span><br><span class="line">            user.setAccountId(githubUser.getId());</span><br><span class="line">            user.setAvatarUrl(githubUser.getAvatar_url());</span><br><span class="line">            authorizeService.insertUser(user);</span><br><span class="line">            response.addCookie(new Cookie(&quot;token&quot;, token));			&#x2F;&#x2F;添加cookie</span><br><span class="line">            return &quot;redirect:&#x2F;&quot;;									&#x2F;&#x2F;返回主页</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            &#x2F;&#x2F;登录失败，重新登录</span><br><span class="line">            return &quot;redirect:&#x2F;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-3-新建一个类，写获取token的方法和获取User信息的方法"><a href="#4-3-新建一个类，写获取token的方法和获取User信息的方法" class="headerlink" title="4.3 新建一个类，写获取token的方法和获取User信息的方法"></a>4.3 新建一个类，写获取token的方法和获取User信息的方法</h3><p>携带参数发送POST请求获取token<br>获取token的方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public String getAccessToken(AccessTokenDTO accessTokenDTO)&#123;</span><br><span class="line">	MediaType mediaType &#x3D; MediaType.get(&quot;application&#x2F;json; charset&#x3D;utf-8&quot;);</span><br><span class="line">	OkHttpClient client &#x3D; new OkHttpClient();</span><br><span class="line"></span><br><span class="line">	RequestBody body &#x3D; RequestBody.create(mediaType, JSON.toJSONString(accessTokenDTO));</span><br><span class="line">	Request request &#x3D; new Request.Builder()</span><br><span class="line">			.url(&quot;https:&#x2F;&#x2F;gitee.com&#x2F;oauth&#x2F;token&quot;)&#x2F;&#x2F;https:&#x2F;&#x2F;github.com&#x2F;login&#x2F;oauth&#x2F;access_token</span><br><span class="line">			.post(body)</span><br><span class="line">			.build();</span><br><span class="line">	try (Response response &#x3D; client.newCall(request).execute()) &#123;</span><br><span class="line">		String string &#x3D; response.body().string();</span><br><span class="line">		JSONObject jsonObject  &#x3D; JSONObject.parseObject(string); &#x2F;&#x2F;将String转换为json串</span><br><span class="line">		String token &#x3D; jsonObject.getString(&quot;access_token&quot;); &#x2F;&#x2F;获取json串中key为access_token的值</span><br><span class="line">		&#x2F;&#x2F;String token &#x3D; string.split(&quot;&amp;&quot;)[0].split(&quot;&#x3D;&quot;)[1];&#x2F;&#x2F;这里Github和Gitee不同，Github返回的是一个地址，Gitee返回的是json串。</span><br><span class="line">		return token;</span><br><span class="line">	&#125; catch (Exception e) &#123;</span><br><span class="line">		e.printStackTrace();</span><br><span class="line">	&#125;</span><br><span class="line">	return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用token获取用户数据<br>获取User信息的方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">public GithubUser getUser(String accessToken)&#123;</span><br><span class="line">	OkHttpClient client &#x3D; new OkHttpClient();</span><br><span class="line">	Request request &#x3D; new Request.Builder()</span><br><span class="line">			.url(&quot;https:&#x2F;&#x2F;gitee.com&#x2F;api&#x2F;v5&#x2F;user?access_token&#x3D;&quot; + accessToken)&#x2F;&#x2F;https:&#x2F;&#x2F;api.github.com&#x2F;user?access_token&#x3D;</span><br><span class="line">			.build();</span><br><span class="line">	try &#123;</span><br><span class="line">		Response response &#x3D; client.newCall(request).execute();</span><br><span class="line">		String string &#x3D; response.body().string();</span><br><span class="line">		GithubUser githubUser &#x3D; JSON.parseObject(string, GithubUser.class);</span><br><span class="line">		return githubUser;</span><br><span class="line">	&#125; catch (IOException e) &#123;</span><br><span class="line">	&#125;</span><br><span class="line">	return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上就是调用Gitee/Github API实现第三方登录流程</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>API</tag>
        <tag>Github</tag>
        <tag>Gitee</tag>
      </tags>
  </entry>
  <entry>
    <title>jQuery动态生成的元素绑定事件</title>
    <url>/jQuery%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%9A%84%E5%85%83%E7%B4%A0%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>前几天写代码的时候遇到一个问题，通过引入的js文件动态生成的元素绑定单击事件不起作用。于是去查找下资料，发现动态生成的元素无法使用click方法绑定。如果需要给动态的元素绑定事件，需要使用到on()方法</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(&quot;#comment&quot;).on(&quot;click&quot;,&quot;button&quot;,function()&#123;</span><br><span class="line">	&lt;!-- 这里写方法的内容 --&gt;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>on()方法，可以给未来的元素绑定事件<br>使用方法：<br>1、先选中动态生成元素的父元素 如：#comment<br>2、然后绑定事件<br>3、再选中子类                  如：button<br>可以理解为给id为comment的元素下的button元素包括未来的button元素绑定click事件,这是比较通俗易懂的理解，详细内容可以看文档的具体说明</p>
]]></content>
      <categories>
        <category>问题</category>
      </categories>
      <tags>
        <tag>问题</tag>
        <tag>jquery</tag>
      </tags>
  </entry>
  <entry>
    <title>使用js jquery分别获取地址栏参数值</title>
    <url>/%E4%BD%BF%E7%94%A8js-jquery%E5%88%86%E5%88%AB%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9D%80%E6%A0%8F%E5%8F%82%E6%95%B0%E5%80%BC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="使用JS获取地址栏参数值"><a href="#使用JS获取地址栏参数值" class="headerlink" title="使用JS获取地址栏参数值"></a>使用JS获取地址栏参数值</h2><p>方法一：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function GetQueryString(name) &#123;</span><br><span class="line">    var reg &#x3D; new RegExp(&quot;(^|&amp;)&quot;+ name +&quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;);</span><br><span class="line">    var r &#x3D; window.location.search.substr(1).match(reg);</span><br><span class="line">    if(r!&#x3D;null)return  unescape(r[2]); return null;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>调用方法GetQueryString(“参数名”);<br>方法二:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;** </span><br><span class="line">  * 获取指定URL的参数值 </span><br><span class="line">  * @param url  指定的URL地址 </span><br><span class="line">  * @param name 参数名称 </span><br><span class="line">  * @return 参数值 </span><br><span class="line">*&#x2F;  </span><br><span class="line"> function getUrlParam(url,name) &#123;  </span><br><span class="line">     var pattern &#x3D; new RegExp(&quot;[?&amp;]&quot;+name+&quot;\&#x3D;([^&amp;]+)&quot;, &quot;g&quot;);  </span><br><span class="line">     var matcher &#x3D; pattern.exec(url);  </span><br><span class="line">     var items &#x3D; null;  </span><br><span class="line">     if(null !&#x3D; matcher)&#123;  </span><br><span class="line">             try&#123;  </span><br><span class="line">                    items &#x3D; decodeURIComponent(decodeURIComponent(matcher[1]));  </span><br><span class="line">             &#125;catch(e)&#123;  </span><br><span class="line">                     try&#123;  </span><br><span class="line">                             items &#x3D; decodeURIComponent(matcher[1]);  </span><br><span class="line">                     &#125;catch(e)&#123;  </span><br><span class="line">                             items &#x3D; matcher[1];  </span><br><span class="line">                     &#125;  </span><br><span class="line">             &#125;  </span><br><span class="line">     &#125;  </span><br><span class="line">     return items;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用方法getUrlParam(document.href,”参数名”);</p>
<h2 id="使用jQuery获取地址栏参数"><a href="#使用jQuery获取地址栏参数" class="headerlink" title="使用jQuery获取地址栏参数"></a>使用jQuery获取地址栏参数</h2><p>使用下面的方式为jquery扩展一个方法来获取url参数</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">(function ($) &#123;</span><br><span class="line">    $.getUrlParam &#x3D; function (name) &#123;</span><br><span class="line">        var reg &#x3D; new RegExp(&quot;(^|&amp;)&quot; + name + &quot;&#x3D;([^&amp;]*)(&amp;|$)&quot;);</span><br><span class="line">        var r &#x3D; window.location.search.substr(1).match(reg);</span><br><span class="line">        if (r !&#x3D; null) return unescape(r[2]); return null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(jQuery);</span><br></pre></td></tr></table></figure>
<p>调用方法$.getUrlParam(“参数名”);</p>
<p>注意:javascript对参数编码解码方法要一致</p>
]]></content>
      <categories>
        <category>问题</category>
      </categories>
      <tags>
        <tag>问题</tag>
        <tag>jquery</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>简单好用的jquery分页插件</title>
    <url>/%E7%AE%80%E5%8D%95%E5%A5%BD%E7%94%A8%E7%9A%84jquery%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>昨天写项目的时候要用到分页功能，于是去找了一下jquery分页插件。以前有到一个分页插件，但是样式不太好看。在jquery插件库找到一个简单好用的分页插件，分享一下<a href="http://www.jq22.com/jquery-info22247" target="_blank" rel="noopener">jQuery分页插件</a><br>样式如下</p>
<a id="more"></a>
<p><img src="/%E7%AE%80%E5%8D%95%E5%A5%BD%E7%94%A8%E7%9A%84jquery%E5%88%86%E9%A1%B5%E6%8F%92%E4%BB%B6/jQueryPaging.JPG" alt="jquery分页插件"><br>使用步骤：<br>1.下载解压后，将js和css文件导入项目<br>2.在html页面中找到一个合适的位置插入代码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;pagination1&quot; class&#x3D;&quot;page fl&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<p>3.新建一个js文件，添加js代码，在html中引入js文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$(&quot;#pagination1&quot;).pagination(&#123;</span><br><span class="line">                        currentPage: page.pageno, &lt;!-- 当前所在页码 --&gt;</span><br><span class="line">                        totalPage: page.totalno,  &lt;!-- 总页码 --&gt;</span><br><span class="line">                        callback: queryPage		  &lt;!-- 回调函数 --&gt;</span><br><span class="line">                    &#125;);</span><br></pre></td></tr></table></figure>
<p>刷新页面，生成分页条</p>
]]></content>
      <categories>
        <category>分享</category>
      </categories>
      <tags>
        <tag>jquery</tag>
        <tag>插件</tag>
      </tags>
  </entry>
  <entry>
    <title>外部引入js文件不生效解决方法</title>
    <url>/%E5%A4%96%E9%83%A8%E5%BC%95%E5%85%A5js%E6%96%87%E4%BB%B6%E4%B8%8D%E7%94%9F%E6%95%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>今天写项目用到js时，本来代码是直接写在<code>&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code>中的，但我想通过外部引入js文件。引入后发现js不生效，于是去找资料。大多数都是说加上<code>window.οnlοad=function(){}</code>将代码放在里面就可以了，但是我试了一下好像不行。最后发现我们需要获取元素时，必须等到该元素被加载完成后才能获取。我们可以把js代码放到该元素的后面，但是这样就会造成js在我们的body中不好管理。所有页面加载完毕后所有的元素已经加载完毕。一般获取元素做操作都要在页面加载完毕后操作。使用<code>$(function(){});</code>可以让页面加载完毕后执行里面的js。于是在js最头部加上<code>$(function(){});</code>，问题解决.</p>
]]></content>
      <categories>
        <category>问题</category>
      </categories>
      <tags>
        <tag>问题</tag>
        <tag>js</tag>
      </tags>
  </entry>
  <entry>
    <title>我的博客搭建全过程(1)</title>
    <url>/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%85%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1.准备工作"></a>1.准备工作</h2><p>在开始一切之前<br>    1.1需要一个github账号，没有的话去注册一个；<br>    1.2安装<a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git</a><br>    1.3安装<a href="https://nodejs.org/en/" target="_blank" rel="noopener">nodejs</a></p>
<h2 id="2-创建github仓库"><a href="#2-创建github仓库" class="headerlink" title="2.创建github仓库"></a>2.创建github仓库</h2><a id="more"></a>
<p>新建一个名为你的用户名.github.io的仓库，比如说，如果你的github用户名是test，那么你就新建test.github.io的仓库（必须是你的用户名，其它名称无效），将来你的网站访问地址就是<a href="http://test.github.io了" target="_blank" rel="noopener">http://test.github.io了</a><br><img src="/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%85%A8%E8%BF%87%E7%A8%8B/CreateLib.JPG" alt="创建github仓库"><br>因为每一个github账户最多只能创建一个这样可以直接使用域名访问的仓库，我之前已经创建过了。</p>
<h2 id="3-配置SSH-key"><a href="#3-配置SSH-key" class="headerlink" title="3.配置SSH key"></a>3.配置SSH key</h2><p>因为你提交代码肯定要拥有你的github权限才可以，但是直接使用用户名和密码太不安全了，所以我们使用ssh key来解决本地和服务器的连接问题。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;. ssh #检查本机已存在的ssh密钥</span><br></pre></td></tr></table></figure>
<p>如果提示：No such file or directory 说明你是第一次使用git。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;邮件地址&quot;</span><br></pre></td></tr></table></figure>
<p>然后连续3次回车，最终会生成一个文件在用户目录下，打开用户目录，找到.ssh\id_rsa.pub文件，记事本打开并复制里面的内容，打开你的github主页，进入个人设置-&gt;SSH and GPG keys-&gt;New SSH key;将刚复制的内容粘贴到key那里，title随便填，保存。</p>
<h2 id="4-使用hexo搭建个人博客"><a href="#4-使用hexo搭建个人博客" class="headerlink" title="4.使用hexo搭建个人博客"></a>4.使用hexo搭建个人博客</h2><h3 id="4-1安装之前说几个注意事项："><a href="#4-1安装之前说几个注意事项：" class="headerlink" title="4.1安装之前说几个注意事项："></a>4.1安装之前说几个注意事项：</h3><p>1.很多命令既可以用Windows的cmd来完成，也可以使用git bash来完成，但是部分命令会有一些问题，为避免不必要的问题，建议全部使用git bash来执行；<br>2.hexo有2种<code>_config.yml</code>文件，一个是根目录下的全局的<code>_config.yml</code>，一个是各个theme下的；</p>
<h3 id="4-2安装hexo"><a href="#4-2安装hexo" class="headerlink" title="4.2安装hexo"></a>4.2安装hexo</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
<h3 id="4-3创建博客文件夹"><a href="#4-3创建博客文件夹" class="headerlink" title="4.3创建博客文件夹"></a>4.3创建博客文件夹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo init &lt;你的文件夹名字&gt; #如 hexo init thexwen</span><br></pre></td></tr></table></figure>
<p>注意:他会在你命令当前路径下创建一个文件夹，这个文件夹将来就作为你存放代码的地方，所以最好不要随便放。</p>
<h3 id="4-4初始化文件夹"><a href="#4-4初始化文件夹" class="headerlink" title="4.4初始化文件夹"></a>4.4初始化文件夹</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd &lt;folder&gt; #进入你的博客文件夹</span><br><span class="line">$ npm install #初始化文件夹</span><br></pre></td></tr></table></figure>
<p>初始化后，您的项目文件夹将如下所示：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure>
<h3 id="4-5编写第一篇博客"><a href="#4-5编写第一篇博客" class="headerlink" title="4.5编写第一篇博客"></a>4.5编写第一篇博客</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new &quot;你的博客名称&quot;</span><br></pre></td></tr></table></figure>
<p>执行上面命令，在你的…\source_posts下会生产一个.md文件，打开文件就可以编写你的博客</p>
<h3 id="4-6访问你的博客"><a href="#4-6访问你的博客" class="headerlink" title="4.6访问你的博客"></a>4.6访问你的博客</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo generate #生成静态文件</span><br><span class="line">$ hexo server	#启动本地服务器。默认情况下，该位置为http:&#x2F;&#x2F;localhost:4000&#x2F;</span><br></pre></td></tr></table></figure>
<p>执行上面两条命令，打开浏览器访问 <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> 即可看到内容，第一次初始化的时候hexo已经帮我们写了一篇名为 Hello World 的文章，默认的主题比较丑。<br><img src="/%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%85%A8%E8%BF%87%E7%A8%8B/BlogSite.png" alt="博客站点"></p>
<h2 id="5-部署到github"><a href="#5-部署到github" class="headerlink" title="5.部署到github"></a>5.部署到github</h2><p>如果你一切都配置好了，发布上传很容易，一句命令就搞定，当然关键还是你要把所有东西配置好。<br>首先，ssh key肯定要配置好。<br>其次，配置_config.yml中有关deploy的部分</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">	type: git</span><br><span class="line">	repo: https:&#x2F;&#x2F;github.com&#x2F;你的github名称&#x2F;你的github名称.github.io.git #如https:&#x2F;&#x2F;github.com&#x2F;TheXWen&#x2F;thexwen.github.io.git</span><br><span class="line">	branch: master</span><br></pre></td></tr></table></figure>
<p>另外我们还需要额外安装一个支持 Git 的部署插件，名字叫做 hexo-deployer-git，有了它我们才可以顺利将其部署到 GitHub 上面，如果不安装的话，在执行部署命令时会报如下错误：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Deployer not found: git</span><br></pre></td></tr></table></figure>
<p>在项目目录下执行安装命令如下:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p>安装成功之后，执行部署命令：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
<p>这时候我们访问一下 GitHub Repository 同名的链接，比如我的 thexwen 博客的 Repository 名称取的是 thexwen.github.io，那我就访问 <a href="http://thexwen.github.io，这时候我们就可以看到跟本地一模一样的博客内容了。" target="_blank" rel="noopener">http://thexwen.github.io，这时候我们就可以看到跟本地一模一样的博客内容了。</a></p>
<h2 id="6-配置站点信息"><a href="#6-配置站点信息" class="headerlink" title="6.配置站点信息"></a>6.配置站点信息</h2><p>完成如上内容之后，实际上我们只完成了博客搭建的一小步，因为我们仅仅是把初始化的页面部署成功了，博客里面还没有设置任何有效的信息.<br>修改根目录下的 _config.yml 文件，找到 Site 区域，这里面可以配置站点标题 title、副标题 subtitle 等内容、关键字 keywords 等内容，比如我的就修改为如下内容：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: xw&#39;s Blog #标题</span><br><span class="line">subtitle: 记录,分享 #副标题</span><br><span class="line">description: make an all-out effort #描述</span><br><span class="line">keywords: &quot;java,问题,个人&quot; #关键字</span><br><span class="line">author: xw #作者</span><br><span class="line">language: zh-CN #中文</span><br><span class="line">timezone: &#39;&#39; #时区</span><br></pre></td></tr></table></figure>
<p>以上就是从零简单搭建一个 Hexo 博客的流程，希望对大家有帮助。</p>
]]></content>
      <categories>
        <category>hexo博客</category>
      </categories>
      <tags>
        <tag>博客</tag>
        <tag>Hexo</tag>
        <tag>Next</tag>
      </tags>
  </entry>
  <entry>
    <title>我的第一台阿里服务器</title>
    <url>/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E5%8F%B0%E9%98%BF%E9%87%8C%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>前段时间一直想买一台阿里的服务器，但是没有碰到活动。昨天上去看看发现阿里在搞活动，<img src="/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E5%8F%B0%E9%98%BF%E9%87%8C%E6%9C%8D%E5%8A%A1%E5%99%A8/19-03-11-aly.JPG" alt="阿里云活动"><br>果断入手一台，哈哈。本来是想用来搭建博客的，但是想着马上要找实习了，博客也没什么东西，就算了。还是拿来挂项目吧</p>
]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>我的第一篇博客</title>
    <url>/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="我的第一篇博客"><a href="#我的第一篇博客" class="headerlink" title="我的第一篇博客"></a>我的第一篇博客</h2><p>这是我的第一篇博客</p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/hello-world/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><a id="more"></a>

<h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
